{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 14:44:13"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 14:44:13"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 14:44:13"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 14:44:13"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 14:44:13"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 14:44:13"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 14:44:13"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 14:44:13"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 14:44:13"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 14:44:13"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743313467614-6jop7plrd","url":"/api/v1/reviews/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 14:44:27"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 14:44:27"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 14:44:27"}
{"level":"error","message":"데이터베이스 연결 획득 실패","metadata":{"error":"connect ETIMEDOUT","meta":{"code":"ETIMEDOUT","errorno":"ETIMEDOUT","fatal":true,"syscall":"connect"}},"stack":"Error: connect ETIMEDOUT\n    at PoolConnection._handleTimeoutError (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:200:17)\n    at listOnTimeout (node:internal/timers:614:17)\n    at process.processTimers (node:internal/timers:549:7)","timestamp":"2025-03-30 14:44:37"}
{"level":"error","message":"쿼리 실행 실패","metadata":{"error":{"error":{"name":"DatabaseError","originalError":{"code":"ETIMEDOUT","errorno":"ETIMEDOUT","fatal":true,"syscall":"connect"}},"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"},"meta":{"error":{"name":"DatabaseError","originalError":{"code":"ETIMEDOUT","errorno":"ETIMEDOUT","fatal":true,"syscall":"connect"}},"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 14:44:37"}
{"level":"error","message":"매장별 리뷰 목록 조회 중 오류 발생","metadata":{"error":"쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"name":"DatabaseError","originalError":{"code":"ETIMEDOUT","errorno":"ETIMEDOUT","fatal":true,"syscall":"connect"}}}},"stack":"Error: connect ETIMEDOUT\n    at PoolConnection._handleTimeoutError (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:200:17)\n    at listOnTimeout (node:internal/timers:614:17)\n    at process.processTimers (node:internal/timers:549:7)","timestamp":"2025-03-30 14:44:37"}
{"level":"http","message":"실패 [GET] /api/v1/reviews/shops/11670753 500 (10044ms)","metadata":{"meta":{"duration":"10044ms","requestId":"req-1743313467614-6jop7plrd","statusCode":500,"statusMessage":"Internal Server Error"}},"timestamp":"2025-03-30 14:44:37"}
{"level":"info","message":"개발 환경(development)에서 로컬 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 14:46:00"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"localhost"}},"timestamp":"2025-03-30 14:46:00"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 14:46:00"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 14:46:00"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 14:46:00"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 14:46:00"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 14:46:00"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 14:46:00"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 14:46:00"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 14:46:00"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 14:46:00"}
{"level":"info","message":"개발 환경(development)에서 로컬 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 14:46:12"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"localhost"}},"timestamp":"2025-03-30 14:46:12"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 14:46:12"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 14:46:12"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 14:46:12"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 14:46:12"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 14:46:12"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 14:46:12"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 14:46:12"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 14:46:12"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 14:46:12"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743313577057-l9vexolyd","url":"/api/v1/reviews/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 14:46:17"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 14:46:17"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 14:46:17"}
{"level":"error","message":"데이터베이스 연결 획득 실패","metadata":{"error":"Access denied for user 'root'@'localhost'","meta":{"code":"ER_ACCESS_DENIED_NO_PASSWORD_ERROR","errno":1698,"sqlMessage":"Access denied for user 'root'@'localhost'","sqlState":"28000"}},"stack":"Error: Access denied for user 'root'@'localhost'\n    at Packet.asError (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/packets/packet.js:740:17)\n    at ClientHandshake.execute (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/commands/command.js:29:26)\n    at PoolConnection.handlePacket (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:475:34)\n    at PacketParser.onPacket (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:93:12)\n    at PacketParser.executeStart (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/packet_parser.js:75:16)\n    at Socket.<anonymous> (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:100:25)\n    at Socket.emit (node:events:507:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)","timestamp":"2025-03-30 14:46:17"}
{"level":"error","message":"쿼리 실행 실패","metadata":{"error":{"error":{"name":"DatabaseError","originalError":{"code":"ER_ACCESS_DENIED_NO_PASSWORD_ERROR","errno":1698,"sqlMessage":"Access denied for user 'root'@'localhost'","sqlState":"28000"}},"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"},"meta":{"error":{"name":"DatabaseError","originalError":{"code":"ER_ACCESS_DENIED_NO_PASSWORD_ERROR","errno":1698,"sqlMessage":"Access denied for user 'root'@'localhost'","sqlState":"28000"}},"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 14:46:17"}
{"level":"error","message":"매장별 리뷰 목록 조회 중 오류 발생","metadata":{"error":"쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"name":"DatabaseError","originalError":{"code":"ER_ACCESS_DENIED_NO_PASSWORD_ERROR","errno":1698,"sqlMessage":"Access denied for user 'root'@'localhost'","sqlState":"28000"}}}},"stack":"Error: Access denied for user 'root'@'localhost'\n    at Packet.asError (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/packets/packet.js:740:17)\n    at ClientHandshake.execute (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/commands/command.js:29:26)\n    at PoolConnection.handlePacket (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:475:34)\n    at PacketParser.onPacket (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:93:12)\n    at PacketParser.executeStart (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/packet_parser.js:75:16)\n    at Socket.<anonymous> (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:100:25)\n    at Socket.emit (node:events:507:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)","timestamp":"2025-03-30 14:46:17"}
{"level":"http","message":"실패 [GET] /api/v1/reviews/shops/11670753 500 (54ms)","metadata":{"meta":{"duration":"54ms","requestId":"req-1743313577057-l9vexolyd","statusCode":500,"statusMessage":"Internal Server Error"}},"timestamp":"2025-03-30 14:46:17"}
{"level":"info","message":"개발 환경(development)에서 로컬 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 14:47:33"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"localhost"}},"timestamp":"2025-03-30 14:47:33"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 14:47:33"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 14:47:33"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 14:47:33"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 14:47:33"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 14:47:33"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 14:47:33"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 14:47:33"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 14:47:33"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 14:47:33"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743313658460-7mzodw36w","url":"/api/v1/reviews/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 14:47:38"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 14:47:38"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 14:47:38"}
{"level":"error","message":"데이터베이스 연결 획득 실패","metadata":{"error":"Access denied for user 'root'@'localhost'","meta":{"code":"ER_ACCESS_DENIED_NO_PASSWORD_ERROR","errno":1698,"sqlMessage":"Access denied for user 'root'@'localhost'","sqlState":"28000"}},"stack":"Error: Access denied for user 'root'@'localhost'\n    at Packet.asError (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/packets/packet.js:740:17)\n    at ClientHandshake.execute (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/commands/command.js:29:26)\n    at PoolConnection.handlePacket (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:475:34)\n    at PacketParser.onPacket (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:93:12)\n    at PacketParser.executeStart (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/packet_parser.js:75:16)\n    at Socket.<anonymous> (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:100:25)\n    at Socket.emit (node:events:507:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)","timestamp":"2025-03-30 14:47:38"}
{"level":"error","message":"쿼리 실행 실패","metadata":{"error":{"error":{"name":"DatabaseError","originalError":{"code":"ER_ACCESS_DENIED_NO_PASSWORD_ERROR","errno":1698,"sqlMessage":"Access denied for user 'root'@'localhost'","sqlState":"28000"}},"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"},"meta":{"error":{"name":"DatabaseError","originalError":{"code":"ER_ACCESS_DENIED_NO_PASSWORD_ERROR","errno":1698,"sqlMessage":"Access denied for user 'root'@'localhost'","sqlState":"28000"}},"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 14:47:38"}
{"level":"error","message":"매장별 리뷰 목록 조회 중 오류 발생","metadata":{"error":"쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"name":"DatabaseError","originalError":{"code":"ER_ACCESS_DENIED_NO_PASSWORD_ERROR","errno":1698,"sqlMessage":"Access denied for user 'root'@'localhost'","sqlState":"28000"}}}},"stack":"Error: Access denied for user 'root'@'localhost'\n    at Packet.asError (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/packets/packet.js:740:17)\n    at ClientHandshake.execute (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/commands/command.js:29:26)\n    at PoolConnection.handlePacket (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:475:34)\n    at PacketParser.onPacket (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:93:12)\n    at PacketParser.executeStart (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/packet_parser.js:75:16)\n    at Socket.<anonymous> (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:100:25)\n    at Socket.emit (node:events:507:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)","timestamp":"2025-03-30 14:47:38"}
{"level":"http","message":"실패 [GET] /api/v1/reviews/shops/11670753 500 (94ms)","metadata":{"meta":{"duration":"94ms","requestId":"req-1743313658460-7mzodw36w","statusCode":500,"statusMessage":"Internal Server Error"}},"timestamp":"2025-03-30 14:47:38"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 15:28:35"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 15:28:35"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 15:28:35"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 15:28:35"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 15:28:35"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 15:28:35"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 15:28:35"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 15:28:35"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 15:28:35"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 15:28:35"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 15:28:35"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743316120845-6k9ah7fd0","url":"/api/v1/reviews/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 15:28:40"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:28:40"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:28:40"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":21}},"timestamp":"2025-03-30 15:28:41"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:28:41"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:28:41"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":10,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:28:41"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (501ms)","metadata":{"meta":{"duration":"501ms","requestId":"req-1743316120845-6k9ah7fd0","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:28:41"}
{"level":"http","message":"요청 [GET] /api/v1/shops?limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743316129481-vhtzixay7","url":"/api/v1/shops?limit=1","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 15:28:49"}
{"level":"debug","message":"제휴 매장 조인 상점 목록 조회","metadata":{"meta":{"limit":1,"offset":0}},"timestamp":"2025-03-30 15:28:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":21}},"timestamp":"2025-03-30 15:28:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  CASE\n    WHEN p.id IS NOT NULL THEN true\n    ELSE false\n  END AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  LEFT JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.id IS NOT NULL DESC,\n  p.partner_date ASC,\n  s.id ASC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:28:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:28:49"}
{"level":"http","message":"응답 [GET] /api/v1/shops?limit=1 200 (26ms)","metadata":{"meta":{"duration":"26ms","requestId":"req-1743316129481-vhtzixay7","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:28:49"}
{"level":"http","message":"요청 [GET] /api/v1/users/1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743316136870-oly0vusfq","url":"/api/v1/users/1","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 15:28:56"}
{"level":"http","message":"실패 [GET] /api/v1/users/1 404 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743316136870-oly0vusfq","statusCode":404,"statusMessage":"Not Found"}},"timestamp":"2025-03-30 15:28:56"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@example.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743316144862-pzn6evxr8","url":"/api/v1/auth/login","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 15:29:04"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@example.com"}},"timestamp":"2025-03-30 15:29:04"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":21}},"timestamp":"2025-03-30 15:29:04"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@example.com'"}},"timestamp":"2025-03-30 15:29:04"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:29:04"}
{"level":"http","message":"실패 [POST] /api/v1/auth/login 401 (19ms)","metadata":{"meta":{"duration":"19ms","requestId":"req-1743316144862-pzn6evxr8","statusCode":401,"statusMessage":"Unauthorized"}},"timestamp":"2025-03-30 15:29:04"}
{"level":"http","message":"요청 [GET] /api/v1/shops/partner?limit=2","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743316185094-lhmxcwu9w","url":"/api/v1/shops/partner?limit=2","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 15:29:45"}
{"level":"http","message":"실패 [GET] /api/v1/shops/partner?limit=2 400 (8ms)","metadata":{"meta":{"duration":"8ms","requestId":"req-1743316185094-lhmxcwu9w","statusCode":400,"statusMessage":"Bad Request"}},"timestamp":"2025-03-30 15:29:45"}
{"level":"http","message":"요청 [GET] /api/v1/shops/partners?limit=2","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743316192704-zmvel0s64","url":"/api/v1/shops/partners?limit=2","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 15:29:52"}
{"level":"http","message":"실패 [GET] /api/v1/shops/partners?limit=2 400 (0ms)","metadata":{"meta":{"duration":"0ms","requestId":"req-1743316192704-zmvel0s64","statusCode":400,"statusMessage":"Bad Request"}},"timestamp":"2025-03-30 15:29:52"}
{"level":"http","message":"요청 [GET] /api/v1/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743316200324-au2geln6f","url":"/api/v1/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 15:30:00"}
{"level":"error","message":"제휴 정보 포함 매장 정보 조회 실패","metadata":{"error":"SQL ID [getShopWithPartnerInfo] not exists","meta":{}},"stack":"Error: SQL ID [getShopWithPartnerInfo] not exists\n    at MybatisMapper.getStatement (/Users/hj/work/Chaltteok_BE/node_modules/mybatis-mapper/index.js:90:57)\n    at ShopRepository.getShopWithPartnerInfo (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/shopRepository.js:252:41)\n    at ShopService.getShop (file:///Users/hj/work/Chaltteok_BE/src/services/shopService.js:54:36)\n    at file:///Users/hj/work/Chaltteok_BE/src/controllers/shopController.js:64:36\n    at Layer.handle [as handle_request] (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/index.js:365:14)","timestamp":"2025-03-30 15:30:00"}
{"level":"http","message":"실패 [GET] /api/v1/shops/11670753 500 (2ms)","metadata":{"meta":{"duration":"2ms","requestId":"req-1743316200324-au2geln6f","statusCode":500,"statusMessage":"Internal Server Error"}},"timestamp":"2025-03-30 15:30:00"}
{"level":"http","message":"요청 [GET] /api/v1/shops/price?limit=2","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743316215693-e5keewxp6","url":"/api/v1/shops/price?limit=2","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 15:30:15"}
{"level":"http","message":"실패 [GET] /api/v1/shops/price?limit=2 400 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743316215693-e5keewxp6","statusCode":400,"statusMessage":"Bad Request"}},"timestamp":"2025-03-30 15:30:15"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 15:31:07"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 15:31:07"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 15:31:07"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 15:31:07"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 15:31:07"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 15:31:07"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 15:31:07"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 15:31:07"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 15:31:07"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 15:31:07"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 15:31:07"}
{"level":"http","message":"요청 [GET] /api/v1/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743316273592-it0v3k0qe","url":"/api/v1/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 15:31:13"}
{"level":"error","message":"제휴 정보 포함 매장 정보 조회 실패","metadata":{"error":"SQL ID [getShopWithPartnerInfo] not exists","meta":{}},"stack":"Error: SQL ID [getShopWithPartnerInfo] not exists\n    at MybatisMapper.getStatement (/Users/hj/work/Chaltteok_BE/node_modules/mybatis-mapper/index.js:90:57)\n    at ShopRepository.getShopWithPartnerInfo (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/shopRepository.js:252:41)\n    at ShopService.getShop (file:///Users/hj/work/Chaltteok_BE/src/services/shopService.js:55:52)\n    at file:///Users/hj/work/Chaltteok_BE/src/controllers/shopController.js:64:36\n    at Layer.handle [as handle_request] (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/index.js:365:14)","timestamp":"2025-03-30 15:31:13"}
{"level":"http","message":"실패 [GET] /api/v1/shops/11670753 500 (3ms)","metadata":{"meta":{"duration":"3ms","requestId":"req-1743316273592-it0v3k0qe","statusCode":500,"statusMessage":"Internal Server Error"}},"timestamp":"2025-03-30 15:31:13"}
{"level":"http","message":"요청 [GET] /api/v1/shops/price?limit=2","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743316331742-0fap4fq7z","url":"/api/v1/shops/price?limit=2","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 15:32:11"}
{"level":"http","message":"실패 [GET] /api/v1/shops/price?limit=2 400 (2ms)","metadata":{"meta":{"duration":"2ms","requestId":"req-1743316331742-0fap4fq7z","statusCode":400,"statusMessage":"Bad Request"}},"timestamp":"2025-03-30 15:32:11"}
{"level":"http","message":"요청 [POST] /api/v1/reviews","metadata":{"meta":{"body":{"description":"테스트 리뷰입니다","shopId":11670753},"ip":"127.0.0.1","method":"POST","requestId":"req-1743316337433-eulitniv3","url":"/api/v1/reviews","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 15:32:17"}
{"level":"http","message":"실패 [POST] /api/v1/reviews 404 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743316337433-eulitniv3","statusCode":404,"statusMessage":"Not Found"}},"timestamp":"2025-03-30 15:32:17"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 리뷰입니다"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743316399548-3bmh5mdgh","url":"/api/v1/reviews/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 15:33:19"}
{"level":"http","message":"실패 [POST] /api/v1/reviews/shops/11670753 401 (0ms)","metadata":{"meta":{"duration":"0ms","requestId":"req-1743316399548-3bmh5mdgh","statusCode":401,"statusMessage":"Unauthorized"}},"timestamp":"2025-03-30 15:33:19"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 15:33:57"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 15:33:57"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 15:33:57"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 15:33:57"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 15:33:57"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 15:33:57"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 15:33:57"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 15:33:57"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 15:33:57"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 15:33:57"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 15:33:57"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:00"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 15:46:00"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 15:46:00"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 15:46:00"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 15:46:00"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 15:46:00"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 15:46:00"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:00"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:00"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:00"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 15:46:00"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317166899-ci0h7zh47","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:06"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:46:06"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:46:06"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":22}},"timestamp":"2025-03-30 15:46:06"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:46:06"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:07"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":10,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:46:07"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (109ms)","metadata":{"meta":{"duration":"109ms","requestId":"req-1743317166899-ci0h7zh47","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753?page=1&limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317167012-g3j5lgudw","url":"/api/v1/reviews/shops/11670753?page=1&limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":1,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":1,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":22}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:07"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":1,"limit":1,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:46:07"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753?page=1&limit=1 200 (17ms)","metadata":{"meta":{"duration":"17ms","requestId":"req-1743317167012-g3j5lgudw","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753?page=2&limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317167030-p9iue95iq","url":"/api/v1/reviews/shops/11670753?page=2&limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":1,"offset":1,"page":2,"shopId":11670753}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":1,"offset":1,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  1"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":22}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  1"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:07"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":1,"limit":1,"page":2,"shopId":11670753}},"timestamp":"2025-03-30 15:46:07"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753?page=2&limit=1 200 (17ms)","metadata":{"meta":{"duration":"17ms","requestId":"req-1743317167030-p9iue95iq","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317167048-v3srgq07q","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":22}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:07"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":10,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:46:07"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (17ms)","metadata":{"meta":{"duration":"17ms","requestId":"req-1743317167048-v3srgq07q","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/40","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317167066-pv3is5hjp","url":"/api/v1/reviews/40","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"리뷰 단일 조회 시작","metadata":{"meta":{"reviewId":40}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":22}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  s.title as shop_name,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN shop s ON r.shop_id = s.id\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.id = '40'"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:07"}
{"level":"debug","message":"리뷰 조회 성공","metadata":{"meta":{"reviewId":40}},"timestamp":"2025-03-30 15:46:07"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/40 200 (16ms)","metadata":{"meta":{"duration":"16ms","requestId":"req-1743317167066-pv3is5hjp","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"인증 없이 작성하는 테스트 리뷰"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317167090-jufbh6dhb","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"http","message":"실패 [POST] /api/v1/reviews/shops/11670753 401 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743317167090-jufbh6dhb","statusCode":401,"statusMessage":"Unauthorized"}},"timestamp":"2025-03-30 15:46:07"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@newaccount.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317178423-nh4l2gusu","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@newaccount.com"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":22}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@newaccount.com'"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (99ms)","metadata":{"meta":{"duration":"99ms","requestId":"req-1743317178423-nh4l2gusu","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":22}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '30',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTcxNzh9.0gpwRUB7mTTK-HG5mvKYA8iX7T52Q-tEDBNtnj28G44'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTcxNzh9.0gpwRUB7mTTK-HG5mvKYA8iX7T52Q-tEDBNtnj28G44'"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"admin@test.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317178526-1tt5trpuj","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"admin@test.com"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":23}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'admin@test.com'"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (131ms)","metadata":{"meta":{"duration":"131ms","requestId":"req-1743317178526-1tt5trpuj","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":23}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '34',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTcxNzh9.iTX6On7CseeJZlnWJrP_L36V_qMLO-yjGYn6SmDmgTc'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTcxNzh9.iTX6On7CseeJZlnWJrP_L36V_qMLO-yjGYn6SmDmgTc'"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"요청 [GET] /api/v1/shops?limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317178658-gplbxqxi5","url":"/api/v1/shops?limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"제휴 매장 조인 상점 목록 조회","metadata":{"meta":{"limit":1,"offset":0}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":22}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  CASE\n    WHEN p.id IS NOT NULL THEN true\n    ELSE false\n  END AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  LEFT JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.id IS NOT NULL DESC,\n  p.partner_date ASC,\n  s.id ASC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"응답 [GET] /api/v1/shops?limit=1 200 (20ms)","metadata":{"meta":{"duration":"20ms","requestId":"req-1743317178658-gplbxqxi5","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"요청 [GET] /api/v1/shops","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317178680-wbjkicll3","url":"/api/v1/shops","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"제휴 매장 조인 상점 목록 조회","metadata":{"meta":{"limit":20,"offset":0}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":23}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  CASE\n    WHEN p.id IS NOT NULL THEN true\n    ELSE false\n  END AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  LEFT JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.id IS NOT NULL DESC,\n  p.partner_date ASC,\n  s.id ASC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"응답 [GET] /api/v1/shops 200 (16ms)","metadata":{"meta":{"duration":"16ms","requestId":"req-1743317178680-wbjkicll3","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"요청 [GET] /api/v1/shops?partner_only=true","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317178699-p5w9ef7y9","url":"/api/v1/shops?partner_only=true","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"제휴 매장만 조인 조회","metadata":{"meta":{"limit":20,"offset":0}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":23}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  true AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  INNER JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.partner_date ASC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"응답 [GET] /api/v1/shops?partner_only=true 200 (15ms)","metadata":{"meta":{"duration":"15ms","requestId":"req-1743317178699-p5w9ef7y9","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"요청 [GET] /api/v1/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317178715-g0m7vyv49","url":"/api/v1/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"error","message":"제휴 정보 포함 매장 정보 조회 실패","metadata":{"error":"SQL ID [getShopWithPartnerInfo] not exists","meta":{}},"stack":"Error: SQL ID [getShopWithPartnerInfo] not exists\n    at MybatisMapper.getStatement (/Users/hj/work/Chaltteok_BE/node_modules/mybatis-mapper/index.js:90:57)\n    at ShopRepository.getShopWithPartnerInfo (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/shopRepository.js:252:41)\n    at ShopService.getShop (file:///Users/hj/work/Chaltteok_BE/src/services/shopService.js:55:52)\n    at file:///Users/hj/work/Chaltteok_BE/src/controllers/shopController.js:64:36\n    at Layer.handle [as handle_request] (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/index.js:365:14)","timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"실패 [GET] /api/v1/shops/11670753 500 (2ms)","metadata":{"meta":{"duration":"2ms","requestId":"req-1743317178715-g0m7vyv49","statusCode":500,"statusMessage":"Internal Server Error"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"요청 [GET] /api/v1/admin/partner-shops","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317178718-weknfy90h","url":"/api/v1/admin/partner-shops","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"실패 [GET] /api/v1/admin/partner-shops 403 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743317178718-weknfy90h","statusCode":403,"statusMessage":"Forbidden"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"요청 [POST] /api/v1/admin/partner-shops","metadata":{"meta":{"body":{"expiryDate":"2026-03-30","partnerDate":"2025-03-30","shopId":11670753},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317178724-fk1xn2vfm","url":"/api/v1/admin/partner-shops","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"실패 [POST] /api/v1/admin/partner-shops 403 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743317178724-fk1xn2vfm","statusCode":403,"statusMessage":"Forbidden"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"요청 [GET] /api/v1/shops?sort=price","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317178727-rl677hplw","url":"/api/v1/shops?sort=price","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"제휴 매장 조인 가격순 상점 목록 조회","metadata":{"meta":{"limit":20,"offset":0}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":23}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"(\n  SELECT\n    s.id,\n    s.interest_id,\n    s.title,\n    s.description,\n    s.phone_number,\n    s.open_time,\n    s.close_time,\n    s.address,\n    s.latitude,\n    s.longitude,\n    s.parking,\n    s.floor,\n    s.price,\n    s.img,\n    s.reg_date,\n    s.mod_date,\n    CASE\n      WHEN p.id IS NOT NULL THEN true\n      ELSE false\n    END AS is_partner,\n    p.partner_date,\n    p.expiry_date,\n    p.status AS partner_status\n  FROM\n    shop s\n    INNER JOIN partner_shop p ON s.id = p.shop_id\n    AND p.status = 'active'\n  ORDER BY\n    p.partner_date ASC\n  LIMIT\n    20\n)\nUNION ALL\n(\n  SELECT\n    s.id,\n    s.interest_id,\n    s.title,\n    s.description,\n    s.phone_number,\n    s.open_time,\n    s.close_time,\n    s.address,\n    s.latitude,\n    s.longitude,\n    s.parking,\n    s.floor,\n    s.price,\n    s.img,\n    s.reg_date,\n    s.mod_date,\n    false AS is_partner,\n    NULL AS partner_date,\n    NULL AS expiry_date,\n    NULL AS partner_status\n  FROM\n    shop s\n    LEFT JOIN partner_shop p ON s.id = p.shop_id\n    AND p.status = 'active'\n  WHERE\n    p.id IS NULL\n  ORDER BY\n    s.price ASC\n  LIMIT\n    20\n  OFFSET\n    0\n)\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"응답 [GET] /api/v1/shops?sort=price 200 (17ms)","metadata":{"meta":{"duration":"17ms","requestId":"req-1743317178727-rl677hplw","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"요청 [GET] /api/v1/shops?sort=review","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317178746-kc97sz3py","url":"/api/v1/shops?sort=review","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"제휴 매장 조인 리뷰순 상점 목록 조회","metadata":{"meta":{"limit":20,"offset":0}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":23}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"(\n  SELECT\n    s.id,\n    s.interest_id,\n    s.title,\n    s.description,\n    s.phone_number,\n    s.open_time,\n    s.close_time,\n    s.address,\n    s.latitude,\n    s.longitude,\n    s.parking,\n    s.floor,\n    s.price,\n    s.img,\n    s.reg_date,\n    s.mod_date,\n    CASE\n      WHEN p.id IS NOT NULL THEN true\n      ELSE false\n    END AS is_partner,\n    p.partner_date,\n    p.expiry_date,\n    p.status AS partner_status,\n    COUNT(r.id) AS review_count\n  FROM\n    shop s\n    INNER JOIN partner_shop p ON s.id = p.shop_id\n    AND p.status = 'active'\n    LEFT JOIN shop_review r ON s.id = r.shop_id\n  GROUP BY\n    s.id,\n    p.id,\n    p.partner_date,\n    p.expiry_date,\n    p.status\n  ORDER BY\n    p.partner_date ASC\n  LIMIT\n    20\n)\nUNION ALL\n(\n  SELECT\n    s.id,\n    s.interest_id,\n    s.title,\n    s.description,\n    s.phone_number,\n    s.open_time,\n    s.close_time,\n    s.address,\n    s.latitude,\n    s.longitude,\n    s.parking,\n    s.floor,\n    s.price,\n    s.img,\n    s.reg_date,\n    s.mod_date,\n    false AS is_partner,\n    NULL AS partner_date,\n    NULL AS expiry_date,\n    NULL AS partner_status,\n    COUNT(r.id) AS review_count\n  FROM\n    shop s\n    LEFT JOIN partner_shop p ON s.id = p.shop_id\n    AND p.status = 'active'\n    LEFT JOIN shop_review r ON s.id = r.shop_id\n  WHERE\n    p.id IS NULL\n  GROUP BY\n    s.id\n  ORDER BY\n    review_count DESC\n  LIMIT\n    20\n  OFFSET\n    0\n)\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:18"}
{"level":"http","message":"응답 [GET] /api/v1/shops?sort=review 200 (19ms)","metadata":{"meta":{"duration":"19ms","requestId":"req-1743317178746-kc97sz3py","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:46:18"}
{"level":"debug","message":"디버그 로그 테스트","metadata":{"meta":{"detail":"debug level test","testId":1}},"timestamp":"2025-03-30 15:46:29"}
{"level":"info","message":"정보 로그 테스트","metadata":{"meta":{"testId":2,"userId":1001}},"timestamp":"2025-03-30 15:46:29"}
{"level":"warn","message":"경고 로그 테스트","metadata":{"meta":{"resource":"database","testId":3}},"timestamp":"2025-03-30 15:46:29"}
{"level":"error","message":"에러 로그 테스트","metadata":{"error":"테스트 에러 발생","meta":{}},"stack":"Error: 테스트 에러 발생\n    at file:///Users/hj/work/Chaltteok_BE/test/logging-test.js:17:23\n    at ModuleJob.run (node:internal/modules/esm/module_job:272:25)\n    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:580:26)\n    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5)","timestamp":"2025-03-30 15:46:29"}
{"level":"http","message":"HTTP 로그 테스트","metadata":{"meta":{"method":"GET","path":"/api/test","statusCode":200}},"timestamp":"2025-03-30 15:46:29"}
{"level":"silly","message":"상세 로그 테스트","metadata":{"meta":{"details":{"deep":{"nested":"object"}},"testId":5}},"timestamp":"2025-03-30 15:46:29"}
{"level":"info","message":"복잡한 객체 로깅 테스트","metadata":{"meta":{"actions":[{"timestamp":"2025-03-30T06:46:29.150Z","type":"login"},{"item":"dashboard","timestamp":"2025-03-30T06:46:29.150Z","type":"view"}],"stats":{"lastVisit":"2025-03-30T06:46:29.150Z","visits":10},"user":{"id":1234,"name":"홍길동","roles":["user","admin"]}}},"timestamp":"2025-03-30 15:46:29"}
{"level":"error","message":"에러 추적 테스트","metadata":{"error":"의도적으로 발생시킨 에러","meta":{"code":"TEST_ERROR_CODE","context":{"action":"test","userId":999}}},"stack":"Error: 의도적으로 발생시킨 에러\n    at file:///Users/hj/work/Chaltteok_BE/test/logging-test.js:53:9\n    at ModuleJob.run (node:internal/modules/esm/module_job:272:25)\n    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:580:26)\n    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5)","timestamp":"2025-03-30 15:46:29"}
{"level":"info","message":"비동기 작업 시작","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:29"}
{"level":"debug","message":"비동기 작업 진행 중","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:29"}
{"level":"info","message":"비동기 작업 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:46:29"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 15:50:28"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 15:50:28"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 15:50:28"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 15:50:28"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 15:50:28"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 15:50:28"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 15:50:28"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 15:50:28"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 15:50:28"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 15:50:28"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 15:50:28"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 15:50:57"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 15:50:57"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 15:50:57"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 15:50:57"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 15:50:57"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 15:50:57"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 15:50:57"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 15:50:57"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 15:50:57"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 15:50:57"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 15:50:57"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@newaccount.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317466639-8ke2b84y3","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@newaccount.com"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":24}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@newaccount.com'"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (175ms)","metadata":{"meta":{"duration":"175ms","requestId":"req-1743317466639-8ke2b84y3","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":24}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '30',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTc0NjZ9.IAGsiP2gQC8gOdzzuqKa4GUD90OqNL5UGJXSz4HkcuY'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTc0NjZ9.IAGsiP2gQC8gOdzzuqKa4GUD90OqNL5UGJXSz4HkcuY'"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317466818-a4ia5jhix","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":25}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:06"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":10,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (71ms)","metadata":{"meta":{"duration":"71ms","requestId":"req-1743317466818-a4ia5jhix","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753?page=1&limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317466891-7n8kz4s1j","url":"/api/v1/reviews/shops/11670753?page=1&limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":1,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":1,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":25}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:06"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":1,"limit":1,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753?page=1&limit=1 200 (18ms)","metadata":{"meta":{"duration":"18ms","requestId":"req-1743317466891-7n8kz4s1j","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753?page=2&limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317466910-kf6f0n9yh","url":"/api/v1/reviews/shops/11670753?page=2&limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":1,"offset":1,"page":2,"shopId":11670753}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":1,"offset":1,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  1"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":25}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  1"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:06"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":1,"limit":1,"page":2,"shopId":11670753}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753?page=2&limit=1 200 (19ms)","metadata":{"meta":{"duration":"19ms","requestId":"req-1743317466910-kf6f0n9yh","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317466930-161ie2gry","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":25}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:06"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":10,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (13ms)","metadata":{"meta":{"duration":"13ms","requestId":"req-1743317466930-161ie2gry","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/40","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317466944-dh35tl3ly","url":"/api/v1/reviews/40","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"리뷰 단일 조회 시작","metadata":{"meta":{"reviewId":40}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":25}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  s.title as shop_name,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN shop s ON r.shop_id = s.id\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.id = '40'"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:06"}
{"level":"debug","message":"리뷰 조회 성공","metadata":{"meta":{"reviewId":40}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/40 200 (14ms)","metadata":{"meta":{"duration":"14ms","requestId":"req-1743317466944-dh35tl3ly","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"인증 없이 작성하는 테스트 리뷰"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317466959-e3zbyyx35","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"실패 [POST] /api/v1/reviews/shops/11670753 401 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743317466959-e3zbyyx35","statusCode":401,"statusMessage":"Unauthorized"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 리뷰입니다 1743317466"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317466962-pcg19cir5","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"실패 [POST] /api/v1/reviews/shops/11670753 401 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743317466962-pcg19cir5","statusCode":401,"statusMessage":"Unauthorized"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 이미지 리뷰입니다 1743317466"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317466966-gbyzdsubv","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"http","message":"실패 [POST] /api/v1/reviews/shops/11670753 401 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743317466966-gbyzdsubv","statusCode":401,"statusMessage":"Unauthorized"}},"timestamp":"2025-03-30 15:51:06"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:46"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 15:51:46"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 15:51:46"}
{"level":"error","message":"JWT_SECRET 환경 변수가 설정되지 않았습니다. 인증이 작동하지 않을 수 있습니다.","metadata":{},"timestamp":"2025-03-30 15:51:46"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 15:51:46"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 15:51:46"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 15:51:46"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 15:51:46"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:46"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:46"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:46"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 15:51:46"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:57"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 15:51:57"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 15:51:57"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:57"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 15:51:57"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 15:51:57"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 15:51:57"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 15:51:57"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:57"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:57"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 15:51:57"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 15:51:57"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@newaccount.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317533487-wpi622abs","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@newaccount.com"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@newaccount.com'"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (173ms)","metadata":{"meta":{"duration":"173ms","requestId":"req-1743317533487-wpi622abs","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '30',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTc1MzN9.udSgvVCaE2LoguP2B21nVQnZaxf7ZuY9dw2ikalbL0g'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTc1MzN9.udSgvVCaE2LoguP2B21nVQnZaxf7ZuY9dw2ikalbL0g'"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317533665-8ap0b1wzm","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":27}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":10,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (62ms)","metadata":{"meta":{"duration":"62ms","requestId":"req-1743317533665-8ap0b1wzm","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753?page=1&limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317533728-ghmh8xf4y","url":"/api/v1/reviews/shops/11670753?page=1&limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":1,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":1,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":27}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":1,"limit":1,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753?page=1&limit=1 200 (14ms)","metadata":{"meta":{"duration":"14ms","requestId":"req-1743317533728-ghmh8xf4y","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753?page=2&limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317533743-prrc4k8q4","url":"/api/v1/reviews/shops/11670753?page=2&limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":1,"offset":1,"page":2,"shopId":11670753}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":1,"offset":1,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  1"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":27}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  1"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":1,"limit":1,"page":2,"shopId":11670753}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753?page=2&limit=1 200 (17ms)","metadata":{"meta":{"duration":"17ms","requestId":"req-1743317533743-prrc4k8q4","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317533761-vyv8hcmrh","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":27}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":10,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (15ms)","metadata":{"meta":{"duration":"15ms","requestId":"req-1743317533761-vyv8hcmrh","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/40","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317533777-srnd5n60i","url":"/api/v1/reviews/40","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"리뷰 단일 조회 시작","metadata":{"meta":{"reviewId":40}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":27}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  s.title as shop_name,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN shop s ON r.shop_id = s.id\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.id = '40'"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"리뷰 조회 성공","metadata":{"meta":{"reviewId":40}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/40 200 (13ms)","metadata":{"meta":{"duration":"13ms","requestId":"req-1743317533777-srnd5n60i","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"인증 없이 작성하는 테스트 리뷰"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317533792-63isoo6x3","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"실패 [POST] /api/v1/reviews/shops/11670753 401 (0ms)","metadata":{"meta":{"duration":"0ms","requestId":"req-1743317533792-63isoo6x3","statusCode":401,"statusMessage":"Unauthorized"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 리뷰입니다 1743317533"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317533794-dad5dv6mg","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"리뷰 생성 시작","metadata":{"meta":{"description":"테스트 리뷰입니다 1743317533","shopId":11670753,"shopPrdId":0,"userId":30}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":27}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"트랜잭션 시작","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"MyBatis 매퍼 파라미터","metadata":{"meta":{"description":"테스트 리뷰입니다 1743317533","shopId":11670753,"shopPrdId":0,"userId":30}},"timestamp":"2025-03-30 15:52:13"}
{"level":"warn","message":"MyBatis 매퍼 오류, 직접 쿼리 시도","metadata":{"meta":{"error":"XML is not well-formed character or markup. Consider using CDATA section."}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"직접 SQL 쿼리 생성 시도","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"info","message":"직접 쿼리로 리뷰 생성 성공","metadata":{"meta":{"reviewId":42,"shopId":11670753,"userId":30}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"리뷰 단일 조회 시작","metadata":{"meta":{"reviewId":42}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  s.title as shop_name,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN shop s ON r.shop_id = s.id\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.id = '42'"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"리뷰를 찾을 수 없음","metadata":{"meta":{"reviewId":42}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"트랜잭션 커밋 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"트랜잭션 연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"응답 [POST] /api/v1/reviews/shops/11670753 201 (49ms)","metadata":{"meta":{"duration":"49ms","requestId":"req-1743317533794-dad5dv6mg","statusCode":201,"statusMessage":"Created"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 이미지 리뷰입니다 1743317533"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317533846-g1h2wzpyk","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"리뷰 생성 시작","metadata":{"meta":{"description":"테스트 이미지 리뷰입니다 1743317533","shopId":11670753,"shopPrdId":0,"userId":30}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":27}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"트랜잭션 시작","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"MyBatis 매퍼 파라미터","metadata":{"meta":{"description":"테스트 이미지 리뷰입니다 1743317533","shopId":11670753,"shopPrdId":0,"userId":30}},"timestamp":"2025-03-30 15:52:13"}
{"level":"warn","message":"MyBatis 매퍼 오류, 직접 쿼리 시도","metadata":{"meta":{"error":"XML is not well-formed character or markup. Consider using CDATA section."}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"직접 SQL 쿼리 생성 시도","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"info","message":"직접 쿼리로 리뷰 생성 성공","metadata":{"meta":{"reviewId":43,"shopId":11670753,"userId":30}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"리뷰 단일 조회 시작","metadata":{"meta":{"reviewId":43}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  s.title as shop_name,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN shop s ON r.shop_id = s.id\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.id = '43'"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"리뷰를 찾을 수 없음","metadata":{"meta":{"reviewId":43}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"트랜잭션 커밋 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"debug","message":"트랜잭션 연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"응답 [POST] /api/v1/reviews/shops/11670753 201 (51ms)","metadata":{"meta":{"duration":"51ms","requestId":"req-1743317533846-g1h2wzpyk","statusCode":201,"statusMessage":"Created"}},"timestamp":"2025-03-30 15:52:13"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@newaccount.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317690013-lgskcsmmq","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@newaccount.com"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":27}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@newaccount.com'"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (89ms)","metadata":{"meta":{"duration":"89ms","requestId":"req-1743317690013-lgskcsmmq","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":27}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '30',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTc2OTB9.aQIjHYcsKVa3JIpE71Vu0osHveg_4vQdbRpqnP3C-5I'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTc2OTB9.aQIjHYcsKVa3JIpE71Vu0osHveg_4vQdbRpqnP3C-5I'"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317690106-z0zu1qdpt","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":12,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (14ms)","metadata":{"meta":{"duration":"14ms","requestId":"req-1743317690106-z0zu1qdpt","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753?page=1&limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317690122-tgzj7ne2c","url":"/api/v1/reviews/shops/11670753?page=1&limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":1,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":1,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":1,"limit":1,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753?page=1&limit=1 200 (14ms)","metadata":{"meta":{"duration":"14ms","requestId":"req-1743317690122-tgzj7ne2c","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753?page=2&limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317690137-xzsx1cv00","url":"/api/v1/reviews/shops/11670753?page=2&limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":1,"offset":1,"page":2,"shopId":11670753}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":1,"offset":1,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  1"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  1"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":1,"limit":1,"page":2,"shopId":11670753}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753?page=2&limit=1 200 (14ms)","metadata":{"meta":{"duration":"14ms","requestId":"req-1743317690137-xzsx1cv00","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317690153-rmwlgkeag","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":12,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (14ms)","metadata":{"meta":{"duration":"14ms","requestId":"req-1743317690153-rmwlgkeag","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/42","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317690168-1t31dpont","url":"/api/v1/reviews/42","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰 단일 조회 시작","metadata":{"meta":{"reviewId":42}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  s.title as shop_name,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN shop s ON r.shop_id = s.id\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.id = '42'"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰 조회 성공","metadata":{"meta":{"reviewId":42}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/42 200 (13ms)","metadata":{"meta":{"duration":"13ms","requestId":"req-1743317690168-1t31dpont","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"인증 없이 작성하는 테스트 리뷰"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317690183-sinrastc4","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"실패 [POST] /api/v1/reviews/shops/11670753 401 (0ms)","metadata":{"meta":{"duration":"0ms","requestId":"req-1743317690183-sinrastc4","statusCode":401,"statusMessage":"Unauthorized"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 리뷰입니다 1743317690"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317690185-n61w19xao","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰 생성 시작","metadata":{"meta":{"description":"테스트 리뷰입니다 1743317690","shopId":11670753,"shopPrdId":0,"userId":30}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"트랜잭션 시작","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"MyBatis 매퍼 파라미터","metadata":{"meta":{"description":"테스트 리뷰입니다 1743317690","shopId":11670753,"shopPrdId":0,"userId":30}},"timestamp":"2025-03-30 15:54:50"}
{"level":"warn","message":"MyBatis 매퍼 오류, 직접 쿼리 시도","metadata":{"meta":{"error":"XML is not well-formed character or markup. Consider using CDATA section."}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"직접 SQL 쿼리 생성 시도","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"info","message":"직접 쿼리로 리뷰 생성 성공","metadata":{"meta":{"reviewId":44,"shopId":11670753,"userId":30}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰 단일 조회 시작","metadata":{"meta":{"reviewId":44}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":27}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  s.title as shop_name,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN shop s ON r.shop_id = s.id\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.id = '44'"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰를 찾을 수 없음","metadata":{"meta":{"reviewId":44}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"트랜잭션 커밋 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"트랜잭션 연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"응답 [POST] /api/v1/reviews/shops/11670753 201 (55ms)","metadata":{"meta":{"duration":"55ms","requestId":"req-1743317690185-n61w19xao","statusCode":201,"statusMessage":"Created"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317690242-wtju7nhjs","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":13,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (15ms)","metadata":{"meta":{"duration":"15ms","requestId":"req-1743317690242-wtju7nhjs","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 이미지 리뷰입니다 1743317690"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317690259-y9lexg3jb","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰 생성 시작","metadata":{"meta":{"description":"테스트 이미지 리뷰입니다 1743317690","shopId":11670753,"shopPrdId":0,"userId":30}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"트랜잭션 시작","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"MyBatis 매퍼 파라미터","metadata":{"meta":{"description":"테스트 이미지 리뷰입니다 1743317690","shopId":11670753,"shopPrdId":0,"userId":30}},"timestamp":"2025-03-30 15:54:50"}
{"level":"warn","message":"MyBatis 매퍼 오류, 직접 쿼리 시도","metadata":{"meta":{"error":"XML is not well-formed character or markup. Consider using CDATA section."}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"직접 SQL 쿼리 생성 시도","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"info","message":"직접 쿼리로 리뷰 생성 성공","metadata":{"meta":{"reviewId":45,"shopId":11670753,"userId":30}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰 단일 조회 시작","metadata":{"meta":{"reviewId":45}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":27}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  s.title as shop_name,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN shop s ON r.shop_id = s.id\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.id = '45'"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰를 찾을 수 없음","metadata":{"meta":{"reviewId":45}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"트랜잭션 커밋 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"트랜잭션 연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"응답 [POST] /api/v1/reviews/shops/11670753 201 (53ms)","metadata":{"meta":{"duration":"53ms","requestId":"req-1743317690259-y9lexg3jb","statusCode":201,"statusMessage":"Created"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743317690313-b239d6mm0","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":14,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (14ms)","metadata":{"meta":{"duration":"14ms","requestId":"req-1743317690313-b239d6mm0","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/44/images?index=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"POST","requestId":"req-1743317690330-cz55m1tdt","url":"/api/v1/reviews/44/images?index=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"이미지 업로드 시작","metadata":{"meta":{"fileSize":69,"imageIndex":1,"reviewId":44,"userId":30}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"리뷰 권한 확인 시작","metadata":{"meta":{"reviewId":44,"userId":30}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"권한 확인 쿼리 실행","metadata":{"meta":{"query":"SELECT\n  COUNT(1) as count\nFROM\n  shop_review\nWHERE\n  id = '44'\n  AND user_id = '30'"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  COUNT(1) as count\nFROM\n  shop_review\nWHERE\n  id = '44'\n  AND user_id = '30'"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"권한 확인 결과","metadata":{"meta":{"result":{"count":1}}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"파일 확장자 확인","metadata":{"meta":{"extension":".png"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"파일 저장 경로 생성","metadata":{"meta":{"filePath":"/Users/hj/work/Chaltteok_BE/uploads/review-images/44_1_72355cd8-6413-4d8e-b1e1-ad4831a8a2c6.png"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"파일이 디스크에 저장됨","metadata":{"meta":{"filePath":"/Users/hj/work/Chaltteok_BE/uploads/review-images/44_1_72355cd8-6413-4d8e-b1e1-ad4831a8a2c6.png"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":26}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"트랜잭션 시작","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"이미지 URL 업데이트 파라미터","metadata":{"meta":{"imageUrl":"/uploads/review-images/44_1_72355cd8-6413-4d8e-b1e1-ad4831a8a2c6.png","reviewId":44,"userId":30}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"이미지 URL 업데이트 쿼리","metadata":{"meta":{"query":"UPDATE shop_review\nSET\n  img_1 = '/uploads/review-images/44_1_72355cd8-6413-4d8e-b1e1-ad4831a8a2c6.png',\n  mod_date = NOW ()\nWHERE\n  id = '44'\n  AND user_id = '30'"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"이미지 URL 업데이트 결과","metadata":{"meta":{"affectedRows":1}},"timestamp":"2025-03-30 15:54:50"}
{"level":"info","message":"이미지 업로드 성공","metadata":{"meta":{"imageIndex":1,"imageUrl":"/uploads/review-images/44_1_72355cd8-6413-4d8e-b1e1-ad4831a8a2c6.png","reviewId":44}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"트랜잭션 커밋 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"debug","message":"트랜잭션 연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 15:54:50"}
{"level":"http","message":"응답 [POST] /api/v1/reviews/44/images?index=1 200 (57ms)","metadata":{"meta":{"duration":"57ms","requestId":"req-1743317690330-cz55m1tdt","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 15:54:50"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:02:28"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 16:02:28"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:02:28"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 16:02:28"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:02:28"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:02:28"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:02:28"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:02:28"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:02:28"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:02:28"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:02:28"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:02:28"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@newaccount.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743318374618-8ys3pfy2t","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@newaccount.com"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":28}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@newaccount.com'"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:06:14"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (183ms)","metadata":{"meta":{"duration":"183ms","requestId":"req-1743318374618-8ys3pfy2t","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":28}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '30',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTgzNzR9.OTmnI8bMr55Dz-qmW6zUMz9csXr6-bs0tqRBCFyoqiA'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTgzNzR9.OTmnI8bMr55Dz-qmW6zUMz9csXr6-bs0tqRBCFyoqiA'"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"admin@test.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743318374806-kdn3cgb5n","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"admin@test.com"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":29}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'admin@test.com'"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:06:14"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (128ms)","metadata":{"meta":{"duration":"128ms","requestId":"req-1743318374806-kdn3cgb5n","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":29}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '34',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTgzNzR9.XwuWzswyGEdXbet2jA61kzA_6RsXVwreVKeG9vamTms'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTgzNzR9.XwuWzswyGEdXbet2jA61kzA_6RsXVwreVKeG9vamTms'"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"http","message":"요청 [GET] /api/v1/shops?limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743318374936-8ahofh8b5","url":"/api/v1/shops?limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"제휴 매장 조인 상점 목록 조회","metadata":{"meta":{"limit":1,"offset":0}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":28}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  CASE\n    WHEN p.id IS NOT NULL THEN true\n    ELSE false\n  END AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  LEFT JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.id IS NOT NULL DESC,\n  p.partner_date ASC,\n  s.id ASC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:06:14"}
{"level":"http","message":"응답 [GET] /api/v1/shops?limit=1 200 (56ms)","metadata":{"meta":{"duration":"56ms","requestId":"req-1743318374936-8ahofh8b5","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"http","message":"요청 [GET] /api/v1/shops","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743318374993-h7f36o2f5","url":"/api/v1/shops","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"제휴 매장 조인 상점 목록 조회","metadata":{"meta":{"limit":20,"offset":0}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":28}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  CASE\n    WHEN p.id IS NOT NULL THEN true\n    ELSE false\n  END AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  LEFT JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.id IS NOT NULL DESC,\n  p.partner_date ASC,\n  s.id ASC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:06:14"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:06:14"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:06:15"}
{"level":"http","message":"응답 [GET] /api/v1/shops 200 (16ms)","metadata":{"meta":{"duration":"16ms","requestId":"req-1743318374993-h7f36o2f5","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"http","message":"요청 [GET] /api/v1/shops?partner_only=true","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743318375011-8lwlan0ne","url":"/api/v1/shops?partner_only=true","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"debug","message":"제휴 매장만 조인 조회","metadata":{"meta":{"limit":20,"offset":0}},"timestamp":"2025-03-30 16:06:15"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":28}},"timestamp":"2025-03-30 16:06:15"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  true AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  INNER JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.partner_date ASC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:06:15"}
{"level":"http","message":"응답 [GET] /api/v1/shops?partner_only=true 200 (145ms)","metadata":{"meta":{"duration":"145ms","requestId":"req-1743318375011-8lwlan0ne","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"http","message":"요청 [GET] /api/v1/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743318375158-awov0k6xo","url":"/api/v1/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"error","message":"제휴 정보 포함 매장 정보 조회 실패","metadata":{"error":"SQL ID [getShopWithPartnerInfo] not exists","meta":{}},"stack":"Error: SQL ID [getShopWithPartnerInfo] not exists\n    at MybatisMapper.getStatement (/Users/hj/work/Chaltteok_BE/node_modules/mybatis-mapper/index.js:90:57)\n    at ShopRepository.getShopWithPartnerInfo (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/shopRepository.js:252:41)\n    at ShopService.getShop (file:///Users/hj/work/Chaltteok_BE/src/services/shopService.js:55:52)\n    at file:///Users/hj/work/Chaltteok_BE/src/controllers/shopController.js:64:36\n    at Layer.handle [as handle_request] (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/index.js:365:14)","timestamp":"2025-03-30 16:06:15"}
{"level":"http","message":"실패 [GET] /api/v1/shops/11670753 500 (2ms)","metadata":{"meta":{"duration":"2ms","requestId":"req-1743318375158-awov0k6xo","statusCode":500,"statusMessage":"Internal Server Error"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"http","message":"요청 [GET] /api/v1/admin/partner-shops","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743318375162-8ct2cvubo","url":"/api/v1/admin/partner-shops","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"http","message":"실패 [GET] /api/v1/admin/partner-shops 403 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743318375162-8ct2cvubo","statusCode":403,"statusMessage":"Forbidden"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"http","message":"요청 [POST] /api/v1/admin/partner-shops","metadata":{"meta":{"body":{"expiryDate":"2026-03-30","partnerDate":"2025-03-30","shopId":11670753},"ip":"127.0.0.1","method":"POST","requestId":"req-1743318375166-zvqsabgwa","url":"/api/v1/admin/partner-shops","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"http","message":"실패 [POST] /api/v1/admin/partner-shops 403 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743318375166-zvqsabgwa","statusCode":403,"statusMessage":"Forbidden"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"http","message":"요청 [GET] /api/v1/shops?sort=price","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743318375171-p5anzmxtc","url":"/api/v1/shops?sort=price","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"debug","message":"제휴 매장 조인 가격순 상점 목록 조회","metadata":{"meta":{"limit":20,"offset":0}},"timestamp":"2025-03-30 16:06:15"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":28}},"timestamp":"2025-03-30 16:06:15"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"(\n  SELECT\n    s.id,\n    s.interest_id,\n    s.title,\n    s.description,\n    s.phone_number,\n    s.open_time,\n    s.close_time,\n    s.address,\n    s.latitude,\n    s.longitude,\n    s.parking,\n    s.floor,\n    s.price,\n    s.img,\n    s.reg_date,\n    s.mod_date,\n    CASE\n      WHEN p.id IS NOT NULL THEN true\n      ELSE false\n    END AS is_partner,\n    p.partner_date,\n    p.expiry_date,\n    p.status AS partner_status\n  FROM\n    shop s\n    INNER JOIN partner_shop p ON s.id = p.shop_id\n    AND p.status = 'active'\n  ORDER BY\n    p.partner_date ASC\n  LIMIT\n    20\n)\nUNION ALL\n(\n  SELECT\n    s.id,\n    s.interest_id,\n    s.title,\n    s.description,\n    s.phone_number,\n    s.open_time,\n    s.close_time,\n    s.address,\n    s.latitude,\n    s.longitude,\n    s.parking,\n    s.floor,\n    s.price,\n    s.img,\n    s.reg_date,\n    s.mod_date,\n    false AS is_partner,\n    NULL AS partner_date,\n    NULL AS expiry_date,\n    NULL AS partner_status\n  FROM\n    shop s\n    LEFT JOIN partner_shop p ON s.id = p.shop_id\n    AND p.status = 'active'\n  WHERE\n    p.id IS NULL\n  ORDER BY\n    s.price ASC\n  LIMIT\n    20\n  OFFSET\n    0\n)\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:06:15"}
{"level":"http","message":"응답 [GET] /api/v1/shops?sort=price 200 (22ms)","metadata":{"meta":{"duration":"22ms","requestId":"req-1743318375171-p5anzmxtc","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"http","message":"요청 [GET] /api/v1/shops?sort=review","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743318375195-3f8rm5nbs","url":"/api/v1/shops?sort=review","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"debug","message":"제휴 매장 조인 리뷰순 상점 목록 조회","metadata":{"meta":{"limit":20,"offset":0}},"timestamp":"2025-03-30 16:06:15"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":28}},"timestamp":"2025-03-30 16:06:15"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"(\n  SELECT\n    s.id,\n    s.interest_id,\n    s.title,\n    s.description,\n    s.phone_number,\n    s.open_time,\n    s.close_time,\n    s.address,\n    s.latitude,\n    s.longitude,\n    s.parking,\n    s.floor,\n    s.price,\n    s.img,\n    s.reg_date,\n    s.mod_date,\n    CASE\n      WHEN p.id IS NOT NULL THEN true\n      ELSE false\n    END AS is_partner,\n    p.partner_date,\n    p.expiry_date,\n    p.status AS partner_status,\n    COUNT(r.id) AS review_count\n  FROM\n    shop s\n    INNER JOIN partner_shop p ON s.id = p.shop_id\n    AND p.status = 'active'\n    LEFT JOIN shop_review r ON s.id = r.shop_id\n  GROUP BY\n    s.id,\n    p.id,\n    p.partner_date,\n    p.expiry_date,\n    p.status\n  ORDER BY\n    p.partner_date ASC\n  LIMIT\n    20\n)\nUNION ALL\n(\n  SELECT\n    s.id,\n    s.interest_id,\n    s.title,\n    s.description,\n    s.phone_number,\n    s.open_time,\n    s.close_time,\n    s.address,\n    s.latitude,\n    s.longitude,\n    s.parking,\n    s.floor,\n    s.price,\n    s.img,\n    s.reg_date,\n    s.mod_date,\n    false AS is_partner,\n    NULL AS partner_date,\n    NULL AS expiry_date,\n    NULL AS partner_status,\n    COUNT(r.id) AS review_count\n  FROM\n    shop s\n    LEFT JOIN partner_shop p ON s.id = p.shop_id\n    AND p.status = 'active'\n    LEFT JOIN shop_review r ON s.id = r.shop_id\n  WHERE\n    p.id IS NULL\n  GROUP BY\n    s.id\n  ORDER BY\n    review_count DESC\n  LIMIT\n    20\n  OFFSET\n    0\n)\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:06:15"}
{"level":"http","message":"응답 [GET] /api/v1/shops?sort=review 200 (151ms)","metadata":{"meta":{"duration":"151ms","requestId":"req-1743318375195-3f8rm5nbs","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:06:15"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@newaccount.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743318383893-cy40pytmb","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:06:23"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@newaccount.com"}},"timestamp":"2025-03-30 16:06:23"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":28}},"timestamp":"2025-03-30 16:06:23"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@newaccount.com'"}},"timestamp":"2025-03-30 16:06:23"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:06:23"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:06:23"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (85ms)","metadata":{"meta":{"duration":"85ms","requestId":"req-1743318383893-cy40pytmb","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:06:23"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":28}},"timestamp":"2025-03-30 16:06:23"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '30',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTgzODN9.1fFNvaVpLb2D4TE5qZuevyAoEk_tNRBnVwdpn71tAZ0'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTgzODN9.1fFNvaVpLb2D4TE5qZuevyAoEk_tNRBnVwdpn71tAZ0'"}},"timestamp":"2025-03-30 16:06:23"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"admin@test.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743318383982-d1dqq7nuf","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:06:23"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"admin@test.com"}},"timestamp":"2025-03-30 16:06:23"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":29}},"timestamp":"2025-03-30 16:06:23"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'admin@test.com'"}},"timestamp":"2025-03-30 16:06:23"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:06:23"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:06:23"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:06:24"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (84ms)","metadata":{"meta":{"duration":"84ms","requestId":"req-1743318383982-d1dqq7nuf","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:06:24"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":29}},"timestamp":"2025-03-30 16:06:24"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '34',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTgzODR9.Ok70Q5SBobuV9XuuvnicuRAWSeZsjHVK-yqK87XGvLw'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTgzODR9.Ok70Q5SBobuV9XuuvnicuRAWSeZsjHVK-yqK87XGvLw'"}},"timestamp":"2025-03-30 16:06:24"}
{"level":"http","message":"요청 [GET] /api/v1/shops?limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743318384067-cxagedu4b","url":"/api/v1/shops?limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:06:24"}
{"level":"debug","message":"제휴 매장 조인 상점 목록 조회","metadata":{"meta":{"limit":1,"offset":0}},"timestamp":"2025-03-30 16:06:24"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":28}},"timestamp":"2025-03-30 16:06:24"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  CASE\n    WHEN p.id IS NOT NULL THEN true\n    ELSE false\n  END AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  LEFT JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.id IS NOT NULL DESC,\n  p.partner_date ASC,\n  s.id ASC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:06:24"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:06:24"}
{"level":"http","message":"응답 [GET] /api/v1/shops?limit=1 200 (16ms)","metadata":{"meta":{"duration":"16ms","requestId":"req-1743318384067-cxagedu4b","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:06:24"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:06:24"}
{"level":"http","message":"요청 [POST] /api/v1/reports/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 신고입니다.","reportType":"inappropriate"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743318384084-9g9008hcy","url":"/api/v1/reports/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:06:24"}
{"level":"debug","message":"신고 생성 쿼리 실행","metadata":{"meta":{"reportData":{"description":"테스트 신고입니다.","reportType":"inappropriate","targetId":11670753,"targetType":"shop","userId":null}}},"timestamp":"2025-03-30 16:06:24"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":29}},"timestamp":"2025-03-30 16:06:24"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    'NaN',\n    'inappropriate',\n    '테스트 신고입니다.',\n    'pending'\n  )"}},"timestamp":"2025-03-30 16:06:24"}
{"level":"error","message":"UPDATE/DELETE 쿼리 실행 실패","metadata":{"error":{"error":{"code":"ER_TRUNCATED_WRONG_VALUE_FOR_FIELD","errno":1366,"message":"Incorrect integer value: 'NaN' for column 'user_id' at row 1","sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    'NaN',\n    'inappropriate',\n    '테스트 신고입니다.',\n    'pending'\n  )","sqlMessage":"Incorrect integer value: 'NaN' for column 'user_id' at row 1","sqlState":"HY000"},"params":[],"sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    'NaN',\n    'inappropriate',\n    '테스트 신고입니다.',\n    'pending'\n  )"},"meta":{"error":{"code":"ER_TRUNCATED_WRONG_VALUE_FOR_FIELD","errno":1366,"message":"Incorrect integer value: 'NaN' for column 'user_id' at row 1","sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    'NaN',\n    'inappropriate',\n    '테스트 신고입니다.',\n    'pending'\n  )","sqlMessage":"Incorrect integer value: 'NaN' for column 'user_id' at row 1","sqlState":"HY000"},"params":[],"sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    'NaN',\n    'inappropriate',\n    '테스트 신고입니다.',\n    'pending'\n  )"}},"timestamp":"2025-03-30 16:06:24"}
{"level":"error","message":"신고 생성 실패:","metadata":{"error":"UPDATE/DELETE 쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"code":"ER_TRUNCATED_WRONG_VALUE_FOR_FIELD","errno":1366,"message":"Incorrect integer value: 'NaN' for column 'user_id' at row 1","sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    'NaN',\n    'inappropriate',\n    '테스트 신고입니다.',\n    'pending'\n  )","sqlMessage":"Incorrect integer value: 'NaN' for column 'user_id' at row 1","sqlState":"HY000"}}},"stack":"Error: Incorrect integer value: 'NaN' for column 'user_id' at row 1\n    at PromisePoolConnection.query (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/promise/connection.js:29:22)\n    at Database.execute (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:161:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ReportRepository.createReport (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/reportRepository.js:37:28)\n    at async ReportService.createShopReport (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:26:26)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:18:24","timestamp":"2025-03-30 16:06:24"}
{"level":"http","message":"실패 [POST] /api/v1/reports/shops/11670753 400 (17ms)","metadata":{"meta":{"duration":"17ms","requestId":"req-1743318384084-9g9008hcy","statusCode":400,"statusMessage":"Bad Request"}},"timestamp":"2025-03-30 16:06:24"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:10:17"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 16:10:17"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:10:17"}
{"level":"error","message":"JWT_SECRET 환경 변수가 설정되지 않았습니다. 인증이 작동하지 않을 수 있습니다.","metadata":{},"timestamp":"2025-03-30 16:10:17"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:10:17"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:10:17"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:10:17"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:10:17"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:10:17"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:10:17"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:10:17"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:10:17"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:11:07"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 16:11:07"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:11:07"}
{"level":"error","message":"JWT_SECRET 환경 변수가 설정되지 않았습니다. 인증이 작동하지 않을 수 있습니다.","metadata":{},"timestamp":"2025-03-30 16:11:07"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:11:07"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:11:07"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:11:07"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:11:07"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:11:07"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:11:07"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:11:07"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:11:07"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@newaccount.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743318684808-mjgpd2nol","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:11:24"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@newaccount.com"}},"timestamp":"2025-03-30 16:11:24"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":31}},"timestamp":"2025-03-30 16:11:24"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@newaccount.com'"}},"timestamp":"2025-03-30 16:11:24"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:11:24"}
{"level":"error","message":"사용자 세션 저장 실패","metadata":{"error":"Parameter #{session} is not converted.","meta":{}},"stack":"Error: Parameter #{session} is not converted.\n    at MybatisMapper.getStatement (/Users/hj/work/Chaltteok_BE/node_modules/mybatis-mapper/index.js:105:15)\n    at SessionRepository.saveSession (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/sessionRepository.js:31:41)\n    at LoginService.login (file:///Users/hj/work/Chaltteok_BE/src/services/loginService.js:22:36)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/authController.js:23:24","timestamp":"2025-03-30 16:11:24"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (164ms)","metadata":{"meta":{"duration":"164ms","requestId":"req-1743318684808-mjgpd2nol","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:11:24"}
{"level":"error","message":"unhandledRejection: Parameter #{session} is not converted.\nError: Parameter #{session} is not converted.\n    at MybatisMapper.getStatement (/Users/hj/work/Chaltteok_BE/node_modules/mybatis-mapper/index.js:105:15)\n    at SessionRepository.saveSession (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/sessionRepository.js:31:41)\n    at LoginService.login (file:///Users/hj/work/Chaltteok_BE/src/services/loginService.js:22:36)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/authController.js:23:24","metadata":{"date":"Sun Mar 30 2025 16:11:24 GMT+0900 (대한민국 표준시)","error":{},"os":{"loadavg":[7.142578125,9.36181640625,7.41259765625],"uptime":4905162},"process":{"argv":["/opt/homebrew/Cellar/node/23.6.0/bin/node","/Users/hj/work/Chaltteok_BE/chaltteok.js"],"cwd":"/Users/hj/work/Chaltteok_BE","execPath":"/opt/homebrew/Cellar/node/23.6.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":79899,"external":3675141,"heapTotal":24756224,"heapUsed":22152504,"rss":75120640},"pid":81152,"uid":501,"version":"v23.6.0"},"rejection":true,"trace":[{"column":15,"file":"/Users/hj/work/Chaltteok_BE/node_modules/mybatis-mapper/index.js","function":"MybatisMapper.getStatement","line":105,"method":"getStatement","native":false},{"column":41,"file":"file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/sessionRepository.js","function":"SessionRepository.saveSession","line":31,"method":"saveSession","native":false},{"column":36,"file":"file:///Users/hj/work/Chaltteok_BE/src/services/loginService.js","function":"LoginService.login","line":22,"method":"login","native":false},{"column":24,"file":"async file:///Users/hj/work/Chaltteok_BE/src/controllers/authController.js","function":null,"line":23,"method":null,"native":false}]},"stack":"Error: Parameter #{session} is not converted.\n    at MybatisMapper.getStatement (/Users/hj/work/Chaltteok_BE/node_modules/mybatis-mapper/index.js:105:15)\n    at SessionRepository.saveSession (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/sessionRepository.js:31:41)\n    at LoginService.login (file:///Users/hj/work/Chaltteok_BE/src/services/loginService.js:22:36)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/authController.js:23:24","timestamp":"2025-03-30 16:11:24"}
{"level":"error","message":"처리되지 않은 프로미스 거부","metadata":{"error":{"promise":{},"reason":{}},"meta":{"promise":{},"reason":{}}},"timestamp":"2025-03-30 16:11:24"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:11:43"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 16:11:43"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:11:43"}
{"level":"error","message":"JWT_SECRET 환경 변수가 설정되지 않았습니다. 인증이 작동하지 않을 수 있습니다.","metadata":{},"timestamp":"2025-03-30 16:11:43"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:11:43"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:11:43"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:11:43"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:11:43"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:11:43"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:11:43"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:11:43"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:11:43"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:11:52"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 16:11:52"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:11:52"}
{"level":"error","message":"JWT_SECRET 환경 변수가 설정되지 않았습니다. 인증이 작동하지 않을 수 있습니다.","metadata":{},"timestamp":"2025-03-30 16:11:52"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:11:52"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:11:52"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:11:52"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:11:52"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:11:52"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:11:52"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:11:52"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:11:52"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:05"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 16:12:05"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:12:05"}
{"level":"error","message":"JWT_SECRET 환경 변수가 설정되지 않았습니다. 인증이 작동하지 않을 수 있습니다.","metadata":{},"timestamp":"2025-03-30 16:12:05"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:12:05"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:12:05"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:12:05"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:12:05"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:05"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:05"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:05"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:12:05"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:16"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 16:12:16"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:12:16"}
{"level":"error","message":"JWT_SECRET 환경 변수가 설정되지 않았습니다. 인증이 작동하지 않을 수 있습니다.","metadata":{},"timestamp":"2025-03-30 16:12:16"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:12:16"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:12:16"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:12:16"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:12:16"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:16"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:16"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:16"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:12:16"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:28"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 16:12:28"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:12:28"}
{"level":"error","message":"JWT_SECRET 환경 변수가 설정되지 않았습니다. 인증이 작동하지 않을 수 있습니다.","metadata":{},"timestamp":"2025-03-30 16:12:28"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:12:28"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:12:28"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:12:28"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:12:28"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:28"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:28"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:28"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:12:28"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:38"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 16:12:38"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:12:38"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:38"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:12:38"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:12:38"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:12:38"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:12:38"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:38"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:38"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:38"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:12:38"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@newaccount.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743318769927-uv8tj850w","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:12:49"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@newaccount.com"}},"timestamp":"2025-03-30 16:12:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":32}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@newaccount.com'"}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:12:50"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (170ms)","metadata":{"meta":{"duration":"170ms","requestId":"req-1743318769927-uv8tj850w","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":32}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '30',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTg3NzB9.ZRNOBaTMzsipyaI5QENAlPc1cKm1o6anof4R1eHpiAE'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTg3NzB9.ZRNOBaTMzsipyaI5QENAlPc1cKm1o6anof4R1eHpiAE'"}},"timestamp":"2025-03-30 16:12:50"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"admin@test.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743318770101-xzu70dnao","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"admin@test.com"}},"timestamp":"2025-03-30 16:12:50"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":33}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'admin@test.com'"}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:12:50"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (127ms)","metadata":{"meta":{"duration":"127ms","requestId":"req-1743318770101-xzu70dnao","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":33}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '34',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTg3NzB9.FTRvl8NXWKHPFYaklD7ckZLZgO6qMEBOOpkAEOOTtFY'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTg3NzB9.FTRvl8NXWKHPFYaklD7ckZLZgO6qMEBOOpkAEOOTtFY'"}},"timestamp":"2025-03-30 16:12:50"}
{"level":"http","message":"요청 [GET] /api/v1/shops?limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743318770230-wfwm4cydf","url":"/api/v1/shops?limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"제휴 매장 조인 상점 목록 조회","metadata":{"meta":{"limit":1,"offset":0}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":32}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  CASE\n    WHEN p.id IS NOT NULL THEN true\n    ELSE false\n  END AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  LEFT JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.id IS NOT NULL DESC,\n  p.partner_date ASC,\n  s.id ASC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:12:50"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:50"}
{"level":"http","message":"응답 [GET] /api/v1/shops?limit=1 200 (23ms)","metadata":{"meta":{"duration":"23ms","requestId":"req-1743318770230-wfwm4cydf","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:12:50"}
{"level":"http","message":"요청 [POST] /api/v1/reports/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 신고입니다.","reportType":"inappropriate"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743318770255-m2tuby5mu","url":"/api/v1/reports/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:12:50"}
{"level":"info","message":"인증 성공","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"신고 요청 받음","metadata":{"meta":{"reportType":"inappropriate","shopId":"11670753","user":{"iat":1743318770,"userId":30},"userId":30}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"신고 생성 쿼리 실행","metadata":{"meta":{"reportData":{"description":"테스트 신고입니다.","reportType":"inappropriate","targetId":11670753,"targetType":"shop","userId":30}}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":32}},"timestamp":"2025-03-30 16:12:50"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    '30',\n    'inappropriate',\n    '테스트 신고입니다.',\n    'pending'\n  )"}},"timestamp":"2025-03-30 16:12:50"}
{"level":"info","message":"신고 생성 성공","metadata":{"meta":{}},"timestamp":"2025-03-30 16:12:50"}
{"level":"error","message":"신고 단일 조회 실패:","metadata":{"error":"Parameter #{reportId} is not converted.","meta":{}},"stack":"Error: Parameter #{reportId} is not converted.\n    at MybatisMapper.getStatement (/Users/hj/work/Chaltteok_BE/node_modules/mybatis-mapper/index.js:105:15)\n    at ReportRepository.getReportById (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/reportRepository.js:66:41)\n    at ReportService.getReportById (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:71:52)\n    at ReportService.createShopReport (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:27:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 16:12:50"}
{"level":"error","message":"샵 신고 생성 오류:","metadata":{"error":"Parameter #{reportId} is not converted.","meta":{}},"stack":"Error: Parameter #{reportId} is not converted.\n    at MybatisMapper.getStatement (/Users/hj/work/Chaltteok_BE/node_modules/mybatis-mapper/index.js:105:15)\n    at ReportRepository.getReportById (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/reportRepository.js:66:41)\n    at ReportService.getReportById (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:71:52)\n    at ReportService.createShopReport (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:27:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 16:12:50"}
{"level":"http","message":"실패 [POST] /api/v1/reports/shops/11670753 400 (23ms)","metadata":{"meta":{"duration":"23ms","requestId":"req-1743318770255-m2tuby5mu","statusCode":400,"statusMessage":"Bad Request"}},"timestamp":"2025-03-30 16:12:50"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:13:39"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 16:13:39"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:13:39"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 16:13:39"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:13:39"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:13:39"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:13:39"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:13:39"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:13:39"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:13:39"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:13:39"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:13:39"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@newaccount.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743318824210-ja9vzozfb","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@newaccount.com"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":34}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@newaccount.com'"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:13:44"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (172ms)","metadata":{"meta":{"duration":"172ms","requestId":"req-1743318824210-ja9vzozfb","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":34}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '30',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTg4MjR9._s0ZB7Fawl1J6LGym_b6atISZykGMOysx0PyTrU1Hc4'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTg4MjR9._s0ZB7Fawl1J6LGym_b6atISZykGMOysx0PyTrU1Hc4'"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"admin@test.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743318824386-zu3c77r98","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"admin@test.com"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":35}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'admin@test.com'"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:13:44"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (126ms)","metadata":{"meta":{"duration":"126ms","requestId":"req-1743318824386-zu3c77r98","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":35}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '34',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTg4MjR9.D8peBgfwiSJlTg5Mb2g8yr_PVgrssv0uM2OJ-fLObWM'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTg4MjR9.D8peBgfwiSJlTg5Mb2g8yr_PVgrssv0uM2OJ-fLObWM'"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"http","message":"요청 [GET] /api/v1/shops?limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743318824515-zh822a9wb","url":"/api/v1/shops?limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"제휴 매장 조인 상점 목록 조회","metadata":{"meta":{"limit":1,"offset":0}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":34}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  CASE\n    WHEN p.id IS NOT NULL THEN true\n    ELSE false\n  END AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  LEFT JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.id IS NOT NULL DESC,\n  p.partner_date ASC,\n  s.id ASC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:13:44"}
{"level":"http","message":"응답 [GET] /api/v1/shops?limit=1 200 (26ms)","metadata":{"meta":{"duration":"26ms","requestId":"req-1743318824515-zh822a9wb","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"http","message":"요청 [POST] /api/v1/reports/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 신고입니다.","reportType":"inappropriate"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743318824543-edw3p1ssm","url":"/api/v1/reports/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"info","message":"인증 성공","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"신고 요청 받음","metadata":{"meta":{"reportType":"inappropriate","shopId":"11670753","user":{"iat":1743318824,"userId":30},"userId":30}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"샵 신고 생성 시작","metadata":{"meta":{"reportType":"inappropriate","shopId":11670753,"userId":30}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"신고 생성 쿼리 실행","metadata":{"meta":{"params":["shop",11670753,30,"inappropriate","테스트 신고입니다.","pending"],"query":"\n                INSERT INTO report (\n                    target_type, \n                    target_id, \n                    user_id, \n                    report_type, \n                    description, \n                    status\n                ) VALUES (?, ?, ?, ?, ?, ?)\n            "}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":34}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"INSERT 쿼리 실행","metadata":{"meta":{"params":["shop",11670753,30,"inappropriate","테스트 신고입니다.","pending"],"sql":"\n                INSERT INTO report (\n                    target_type, \n                    target_id, \n                    user_id, \n                    report_type, \n                    description, \n                    status\n                ) VALUES (?, ?, ?, ?, ?, ?)\n            "}},"timestamp":"2025-03-30 16:13:44"}
{"level":"info","message":"샵 신고 생성 성공","metadata":{"meta":{"reportId":3}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"신고 상세 조회 시작","metadata":{"meta":{"reportId":3,"userId":30}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"신고 상세 조회 쿼리 실행","metadata":{"meta":{"params":[3],"query":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = ?\n            "}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":34}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[3],"sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = ?\n            "}},"timestamp":"2025-03-30 16:13:44"}
{"level":"error","message":"쿼리 실행 실패","metadata":{"error":{"error":{"code":"ER_NO_SUCH_TABLE","errno":1146,"message":"Table 'chaltteok.shop_comment' doesn't exist","sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = 3\n            ","sqlMessage":"Table 'chaltteok.shop_comment' doesn't exist","sqlState":"42S02"},"params":[3],"sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = ?\n            "},"meta":{"error":{"code":"ER_NO_SUCH_TABLE","errno":1146,"message":"Table 'chaltteok.shop_comment' doesn't exist","sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = 3\n            ","sqlMessage":"Table 'chaltteok.shop_comment' doesn't exist","sqlState":"42S02"},"params":[3],"sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = ?\n            "}},"timestamp":"2025-03-30 16:13:44"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:13:44"}
{"level":"error","message":"신고 상세 조회 실패","metadata":{"error":"쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"code":"ER_NO_SUCH_TABLE","errno":1146,"message":"Table 'chaltteok.shop_comment' doesn't exist","sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = 3\n            ","sqlMessage":"Table 'chaltteok.shop_comment' doesn't exist","sqlState":"42S02"}}},"stack":"Error: Table 'chaltteok.shop_comment' doesn't exist\n    at PromisePoolConnection.query (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/promise/connection.js:29:22)\n    at Database.query (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:101:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Database.queryOne (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:121:21)\n    at async ReportService.getReportById (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:177:28)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 16:13:44"}
{"level":"error","message":"샵 신고 생성 오류:","metadata":{"error":"쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"code":"ER_NO_SUCH_TABLE","errno":1146,"message":"Table 'chaltteok.shop_comment' doesn't exist","sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = 3\n            ","sqlMessage":"Table 'chaltteok.shop_comment' doesn't exist","sqlState":"42S02"}}},"stack":"Error: Table 'chaltteok.shop_comment' doesn't exist\n    at PromisePoolConnection.query (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/promise/connection.js:29:22)\n    at Database.query (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:101:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Database.queryOne (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:121:21)\n    at async ReportService.getReportById (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:177:28)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 16:13:44"}
{"level":"http","message":"실패 [POST] /api/v1/reports/shops/11670753 400 (34ms)","metadata":{"meta":{"duration":"34ms","requestId":"req-1743318824543-edw3p1ssm","statusCode":400,"statusMessage":"Bad Request"}},"timestamp":"2025-03-30 16:13:44"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@newaccount.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319968376-n6k95i9qg","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@newaccount.com"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@newaccount.com'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@newaccount.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319968385-i9nbr6z97","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@newaccount.com"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":35}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@newaccount.com'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@newaccount.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319968389-95661cfj3","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@newaccount.com"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"admin@test.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319968392-t6a9udzjn","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"admin@test.com"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"admin@test.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319968468-807smxija","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"admin@test.com"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'admin@test.com'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (99ms)","metadata":{"meta":{"duration":"99ms","requestId":"req-1743319968376-n6k95i9qg","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (164ms)","metadata":{"meta":{"duration":"164ms","requestId":"req-1743319968385-i9nbr6z97","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":35}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '30',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTk5Njh9.V_GfnypOe0TYSM7Pjl2rzvKXQDd_EPRnPpPdReUlMnU'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTk5Njh9.V_GfnypOe0TYSM7Pjl2rzvKXQDd_EPRnPpPdReUlMnU'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"admin@test.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319968621-yw23ferlr","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"admin@test.com"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'admin@test.com'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (157ms)","metadata":{"meta":{"duration":"157ms","requestId":"req-1743319968468-807smxija","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319968626-ddizscn7e","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":35}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (87ms)","metadata":{"meta":{"duration":"87ms","requestId":"req-1743319968621-yw23ferlr","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '34',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTk5Njh9.M0OV1YqN8CRTfuyMjZwFuv-PliwpTuDo51Y-0piKw_U'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTk5Njh9.M0OV1YqN8CRTfuyMjZwFuv-PliwpTuDo51Y-0piKw_U'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":37}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'admin@test.com'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:48"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":14,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (85ms)","metadata":{"meta":{"duration":"85ms","requestId":"req-1743319968626-ddizscn7e","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":36}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@newaccount.com'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"요청 [GET] /api/v1/user/me/profile","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319968711-5299igy7t","url":"/api/v1/user/me/profile","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"사용자 ID로 조회","metadata":{"meta":{"id":34,"query":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":35}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"요청 [GET] /api/v1/shops?limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319968714-aaozw663t","url":"/api/v1/shops?limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"제휴 매장 조인 상점 목록 조회","metadata":{"meta":{"limit":1,"offset":0}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753?page=1&limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319968718-zlkkme40o","url":"/api/v1/reviews/shops/11670753?page=1&limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":1,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":1,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (399ms)","metadata":{"meta":{"duration":"399ms","requestId":"req-1743319968392-t6a9udzjn","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":37}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '34',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTk5Njh9.M0OV1YqN8CRTfuyMjZwFuv-PliwpTuDo51Y-0piKw_U'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTk5Njh9.M0OV1YqN8CRTfuyMjZwFuv-PliwpTuDo51Y-0piKw_U'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":38}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '30',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTk5Njh9.V_GfnypOe0TYSM7Pjl2rzvKXQDd_EPRnPpPdReUlMnU'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTk5Njh9.V_GfnypOe0TYSM7Pjl2rzvKXQDd_EPRnPpPdReUlMnU'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"응답 [GET] /api/v1/user/me/profile 200 (151ms)","metadata":{"meta":{"duration":"151ms","requestId":"req-1743319968711-5299igy7t","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (474ms)","metadata":{"meta":{"duration":"474ms","requestId":"req-1743319968389-95661cfj3","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '30',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTk5Njh9.V_GfnypOe0TYSM7Pjl2rzvKXQDd_EPRnPpPdReUlMnU'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjMwLCJpYXQiOjE3NDMzMTk5Njh9.V_GfnypOe0TYSM7Pjl2rzvKXQDd_EPRnPpPdReUlMnU'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"요청 [POST] /api/v1/user/change-password","metadata":{"meta":{"body":{"confirmPassword":"newPassword123","newPassword":"newPassword123"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319968864-02np0yjsw","url":"/api/v1/user/change-password","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"사용자 ID로 조회","metadata":{"meta":{"id":34,"query":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":37}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"요청 [PATCH] /api/v1/user/me/profile","metadata":{"meta":{"body":{"address":"서울시 강남구","age":30,"gender":"M","name":"테스트 사용자","nickName":"테스트닉네임","phone":"01012345678"},"ip":"127.0.0.1","method":"PATCH","requestId":"req-1743319968869-ay5povcq1","url":"/api/v1/user/me/profile","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"사용자 ID로 조회","metadata":{"meta":{"id":34,"query":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":35}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":39}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '34',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTk5Njh9.M0OV1YqN8CRTfuyMjZwFuv-PliwpTuDo51Y-0piKw_U'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTk5Njh9.M0OV1YqN8CRTfuyMjZwFuv-PliwpTuDo51Y-0piKw_U'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":40}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  CASE\n    WHEN p.id IS NOT NULL THEN true\n    ELSE false\n  END AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  LEFT JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.id IS NOT NULL DESC,\n  p.partner_date ASC,\n  s.id ASC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":41}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"사용자 정보 업데이트","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":35}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"UPDATE user\nSET\n  password = '$2a$10$D.SW8Ifn./bpv1HJTEnY3uJl9u1R/pS3xyBehy2q/FBYxPdfcrXWe',\n  is_retry = '0',\n  name = '테스트 사용자',\n  phone = '01012345678',\n  address = '서울시 강남구',\n  age = '30',\n  gender = 'M',\n  nick_name = '테스트닉네임',\n  type = 'email',\n  email = 'admin@test.com',\n  social_id = NULL,\n  profile_image = NULL\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"admin@test.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319968950-45wnzj4xm","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"admin@test.com"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":39}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'admin@test.com'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"사용자 정보 업데이트","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"UPDATE user\nSET\n  password = '$2a$10$RsZWP4mfvbXD2SxtwZIV5OOeRG/h8DMAF.VSbntwpdJ0LHrI9rCyK',\n  is_retry = '0',\n  name = '테스트 사용자',\n  phone = '01012345678',\n  address = '서울시 강남구',\n  age = '30',\n  gender = 'M',\n  nick_name = '테스트닉네임',\n  type = 'email',\n  email = 'admin@test.com',\n  social_id = NULL,\n  profile_image = NULL\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"응답 [GET] /api/v1/shops?limit=1 200 (246ms)","metadata":{"meta":{"duration":"246ms","requestId":"req-1743319968714-aaozw663t","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:48"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":1,"limit":1,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753?page=1&limit=1 200 (242ms)","metadata":{"meta":{"duration":"242ms","requestId":"req-1743319968718-zlkkme40o","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"info","message":"사용자 업데이트 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"응답 [PATCH] /api/v1/user/me/profile 200 (92ms)","metadata":{"meta":{"duration":"92ms","requestId":"req-1743319968869-ay5povcq1","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753?page=2&limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319968964-wxnc8ozph","url":"/api/v1/reviews/shops/11670753?page=2&limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":1,"offset":1,"page":2,"shopId":11670753}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":1,"offset":1,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  1"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":35}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  1\nOFFSET\n  1"}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:48"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (87ms)","metadata":{"meta":{"duration":"87ms","requestId":"req-1743319968950-45wnzj4xm","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":39}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '34',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTk5Njl9.xkZwFSRqMvASsLKg3P58Zr9mfkhF6I2Syer3vXLc1kU'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTk5Njl9.xkZwFSRqMvASsLKg3P58Zr9mfkhF6I2Syer3vXLc1kU'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [GET] /api/v1/shops","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319969037-c4h4c24qg","url":"/api/v1/shops","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"제휴 매장 조인 상점 목록 조회","metadata":{"meta":{"limit":20,"offset":0}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":41}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  CASE\n    WHEN p.id IS NOT NULL THEN true\n    ELSE false\n  END AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  LEFT JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.id IS NOT NULL DESC,\n  p.partner_date ASC,\n  s.id ASC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [GET] /api/v1/user/me/profile","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319969040-511ydkne9","url":"/api/v1/user/me/profile","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"사용자 ID로 조회","metadata":{"meta":{"id":34,"query":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":40}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"사용자 업데이트 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [POST] /api/v1/user/change-password 200 (177ms)","metadata":{"meta":{"duration":"177ms","requestId":"req-1743319968864-02np0yjsw","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":1,"limit":1,"page":2,"shopId":11670753}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753?page=2&limit=1 200 (78ms)","metadata":{"meta":{"duration":"78ms","requestId":"req-1743319968964-wxnc8ozph","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [GET] /api/v1/shops?limit=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319969046-cxl8svq29","url":"/api/v1/shops?limit=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"제휴 매장 조인 상점 목록 조회","metadata":{"meta":{"limit":1,"offset":0}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":35}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  CASE\n    WHEN p.id IS NOT NULL THEN true\n    ELSE false\n  END AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  LEFT JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.id IS NOT NULL DESC,\n  p.partner_date ASC,\n  s.id ASC\nLIMIT\n  1\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319969049-el9pfcq46","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":34}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"admin@test.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319969051-fity4hoox","url":"/api/v1/auth/login","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"admin@test.com"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":37}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'admin@test.com'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [GET] /api/v1/shops 200 (16ms)","metadata":{"meta":{"duration":"16ms","requestId":"req-1743319969037-c4h4c24qg","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [GET] /api/v1/user/me/profile 200 (13ms)","metadata":{"meta":{"duration":"13ms","requestId":"req-1743319969040-511ydkne9","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [POST] /api/v1/user/me/profile-image","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319969059-j9mbzgnbm","url":"/api/v1/user/me/profile-image","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [GET] /api/v1/shops?limit=1 200 (16ms)","metadata":{"meta":{"duration":"16ms","requestId":"req-1743319969046-cxl8svq29","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":14,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (14ms)","metadata":{"meta":{"duration":"14ms","requestId":"req-1743319969049-el9pfcq46","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (83ms)","metadata":{"meta":{"duration":"83ms","requestId":"req-1743319969051-fity4hoox","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":37}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '34',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTk5Njl9.xkZwFSRqMvASsLKg3P58Zr9mfkhF6I2Syer3vXLc1kU'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM0LCJpYXQiOjE3NDMzMTk5Njl9.xkZwFSRqMvASsLKg3P58Zr9mfkhF6I2Syer3vXLc1kU'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/44","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319969135-31gwsz56s","url":"/api/v1/reviews/44","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"리뷰 단일 조회 시작","metadata":{"meta":{"reviewId":44}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":34}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  s.title as shop_name,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN shop s ON r.shop_id = s.id\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.id = '44'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [POST] /api/v1/reports/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 신고입니다.","reportType":"inappropriate"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319969136-4f3cur1jj","url":"/api/v1/reports/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"인증 성공","metadata":{"meta":{"userId":30}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"신고 요청 받음","metadata":{"meta":{"reportType":"inappropriate","shopId":"11670753","user":{"iat":1743319968,"userId":30},"userId":30}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"샵 신고 생성 시작","metadata":{"meta":{"reportType":"inappropriate","shopId":11670753,"userId":30}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"신고 생성 쿼리 실행","metadata":{"meta":{"params":["shop",11670753,30,"inappropriate","테스트 신고입니다.","pending"],"query":"\n                INSERT INTO report (\n                    target_type, \n                    target_id, \n                    user_id, \n                    report_type, \n                    description, \n                    status\n                ) VALUES (?, ?, ?, ?, ?, ?)\n            "}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":35}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"INSERT 쿼리 실행","metadata":{"meta":{"params":["shop",11670753,30,"inappropriate","테스트 신고입니다.","pending"],"sql":"\n                INSERT INTO report (\n                    target_type, \n                    target_id, \n                    user_id, \n                    report_type, \n                    description, \n                    status\n                ) VALUES (?, ?, ?, ?, ?, ?)\n            "}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [GET] /api/v1/shops?partner_only=true","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319969138-cti295dj1","url":"/api/v1/shops?partner_only=true","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"제휴 매장만 조인 조회","metadata":{"meta":{"limit":20,"offset":0}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":39}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  true AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  INNER JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.partner_date ASC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"사용자 ID로 조회","metadata":{"meta":{"id":34,"query":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":40}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [POST] /api/v1/user/change-password","metadata":{"meta":{"body":{"confirmPassword":"test1234","newPassword":"test1234"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319969143-4anwcibbj","url":"/api/v1/user/change-password","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"사용자 ID로 조회","metadata":{"meta":{"id":34,"query":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":41}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"리뷰 조회 성공","metadata":{"meta":{"reviewId":44}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/44 200 (14ms)","metadata":{"meta":{"duration":"14ms","requestId":"req-1743319969135-31gwsz56s","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"사용자 정보 업데이트","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":40}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"UPDATE user\nSET\n  password = '$2a$10$RsZWP4mfvbXD2SxtwZIV5OOeRG/h8DMAF.VSbntwpdJ0LHrI9rCyK',\n  is_retry = '0',\n  name = '테스트 사용자',\n  phone = '01012345678',\n  address = '서울시 강남구',\n  age = '30',\n  gender = 'M',\n  nick_name = '테스트닉네임',\n  type = 'email',\n  email = 'admin@test.com',\n  social_id = NULL,\n  profile_image = '7a259db2-7da8-4b30-a3c1-02ccc9895c6e.png'\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [GET] /api/v1/shops?partner_only=true 200 (15ms)","metadata":{"meta":{"duration":"15ms","requestId":"req-1743319969138-cti295dj1","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"샵 신고 생성 성공","metadata":{"meta":{"reportId":4}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"신고 상세 조회 시작","metadata":{"meta":{"reportId":4,"userId":30}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"신고 상세 조회 쿼리 실행","metadata":{"meta":{"params":[4],"query":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = ?\n            "}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":35}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[4],"sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = ?\n            "}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"인증 없이 작성하는 테스트 리뷰"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319969225-73a08nut3","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"실패 [POST] /api/v1/reviews/shops/11670753 401 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743319969225-73a08nut3","statusCode":401,"statusMessage":"Unauthorized"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [GET] /api/v1/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319969226-lpeec52kb","url":"/api/v1/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"error","message":"제휴 정보 포함 매장 정보 조회 실패","metadata":{"error":"SQL ID [getShopWithPartnerInfo] not exists","meta":{}},"stack":"Error: SQL ID [getShopWithPartnerInfo] not exists\n    at MybatisMapper.getStatement (/Users/hj/work/Chaltteok_BE/node_modules/mybatis-mapper/index.js:90:57)\n    at ShopRepository.getShopWithPartnerInfo (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/shopRepository.js:252:41)\n    at ShopService.getShop (file:///Users/hj/work/Chaltteok_BE/src/services/shopService.js:55:52)\n    at file:///Users/hj/work/Chaltteok_BE/src/controllers/shopController.js:64:36\n    at Layer.handle [as handle_request] (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/hj/work/Chaltteok_BE/node_modules/express/lib/router/index.js:365:14)","timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"실패 [GET] /api/v1/shops/11670753 500 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743319969226-lpeec52kb","statusCode":500,"statusMessage":"Internal Server Error"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"사용자 업데이트 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [POST] /api/v1/user/me/profile-image 200 (169ms)","metadata":{"meta":{"duration":"169ms","requestId":"req-1743319969059-j9mbzgnbm","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"사용자 정보 업데이트","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":40}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"UPDATE user\nSET\n  password = '$2a$10$t3hJ841n8CMNnnT070OJZuOm9LGxvy1fCDstn1SG3ozNz/qJr9h2m',\n  is_retry = '0',\n  name = '테스트 사용자',\n  phone = '01012345678',\n  address = '서울시 강남구',\n  age = '30',\n  gender = 'M',\n  nick_name = '테스트닉네임',\n  type = 'email',\n  email = 'admin@test.com',\n  social_id = NULL,\n  profile_image = NULL\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [GET] /api/v1/admin/partner-shops","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319969232-15wdrrapt","url":"/api/v1/admin/partner-shops","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"인증 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"실패 [GET] /api/v1/admin/partner-shops 403 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743319969232-15wdrrapt","statusCode":403,"statusMessage":"Forbidden"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [POST] /api/v1/user/me/profile-image","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319969234-j7iaf1ad7","url":"/api/v1/user/me/profile-image","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"실패 [POST] /api/v1/user/me/profile-image 400 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743319969234-j7iaf1ad7","statusCode":400,"statusMessage":"Bad Request"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"error","message":"쿼리 실행 실패","metadata":{"error":{"error":{"code":"ER_NO_SUCH_TABLE","errno":1146,"message":"Table 'chaltteok.shop_comment' doesn't exist","sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = 4\n            ","sqlMessage":"Table 'chaltteok.shop_comment' doesn't exist","sqlState":"42S02"},"params":[4],"sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = ?\n            "},"meta":{"error":{"code":"ER_NO_SUCH_TABLE","errno":1146,"message":"Table 'chaltteok.shop_comment' doesn't exist","sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = 4\n            ","sqlMessage":"Table 'chaltteok.shop_comment' doesn't exist","sqlState":"42S02"},"params":[4],"sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = ?\n            "}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"error","message":"신고 상세 조회 실패","metadata":{"error":"쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"code":"ER_NO_SUCH_TABLE","errno":1146,"message":"Table 'chaltteok.shop_comment' doesn't exist","sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = 4\n            ","sqlMessage":"Table 'chaltteok.shop_comment' doesn't exist","sqlState":"42S02"}}},"stack":"Error: Table 'chaltteok.shop_comment' doesn't exist\n    at PromisePoolConnection.query (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/promise/connection.js:29:22)\n    at Database.query (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:101:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Database.queryOne (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:121:21)\n    at async ReportService.getReportById (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:177:28)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 16:32:49"}
{"level":"error","message":"샵 신고 생성 오류:","metadata":{"error":"쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"code":"ER_NO_SUCH_TABLE","errno":1146,"message":"Table 'chaltteok.shop_comment' doesn't exist","sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        WHEN r.target_type = 'comment' THEN (SELECT content FROM shop_comment WHERE id = r.target_id)\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = 4\n            ","sqlMessage":"Table 'chaltteok.shop_comment' doesn't exist","sqlState":"42S02"}}},"stack":"Error: Table 'chaltteok.shop_comment' doesn't exist\n    at PromisePoolConnection.query (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/promise/connection.js:29:22)\n    at Database.query (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:101:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Database.queryOne (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:121:21)\n    at async ReportService.getReportById (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:177:28)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"실패 [POST] /api/v1/reports/shops/11670753 400 (102ms)","metadata":{"meta":{"duration":"102ms","requestId":"req-1743319969136-4f3cur1jj","statusCode":400,"statusMessage":"Bad Request"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 리뷰입니다 1743319969"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319969244-86dxuyw0t","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"리뷰 생성 시작","metadata":{"meta":{"description":"테스트 리뷰입니다 1743319969","shopId":11670753,"shopPrdId":0,"userId":30}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":35}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"사용자 업데이트 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [POST] /api/v1/user/change-password 200 (126ms)","metadata":{"meta":{"duration":"126ms","requestId":"req-1743319969143-4anwcibbj","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [POST] /api/v1/admin/partner-shops","metadata":{"meta":{"body":{"expiryDate":"2026-03-30","partnerDate":"2025-03-30","shopId":11670753},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319969277-igi5ri8hv","url":"/api/v1/admin/partner-shops","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"인증 성공","metadata":{"meta":{"userId":34}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"실패 [POST] /api/v1/admin/partner-shops 403 (2ms)","metadata":{"meta":{"duration":"2ms","requestId":"req-1743319969277-igi5ri8hv","statusCode":403,"statusMessage":"Forbidden"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"트랜잭션 시작","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"MyBatis 매퍼 파라미터","metadata":{"meta":{"description":"테스트 리뷰입니다 1743319969","shopId":11670753,"shopPrdId":0,"userId":30}},"timestamp":"2025-03-30 16:32:49"}
{"level":"warn","message":"MyBatis 매퍼 오류, 직접 쿼리 시도","metadata":{"meta":{"error":"XML is not well-formed character or markup. Consider using CDATA section."}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"직접 SQL 쿼리 생성 시도","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [GET] /api/v1/user/me/profile","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319969280-hl7tqtxfw","url":"/api/v1/user/me/profile","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"사용자 ID로 조회","metadata":{"meta":{"id":34,"query":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":40}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [POST] /api/v1/common/send/auth","metadata":{"meta":{"body":{"phone_number":"01012345678"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319969294-tvph0wqi9","url":"/api/v1/common/send/auth","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"인증 코드 저장","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":41}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_auth (phone, code)\nVALUES\n  ('01012345678', '572793') ON DUPLICATE KEY\nUPDATE code = '572793'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"직접 쿼리로 리뷰 생성 성공","metadata":{"meta":{"reviewId":46,"shopId":11670753,"userId":30}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"리뷰 단일 조회 시작","metadata":{"meta":{"reviewId":46}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":39}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  s.title as shop_name,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN shop s ON r.shop_id = s.id\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.id = '46'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [GET] /api/v1/user/me/profile 200 (26ms)","metadata":{"meta":{"duration":"26ms","requestId":"req-1743319969280-hl7tqtxfw","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [GET] /api/v1/shops?sort=price","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319969319-j3x9ibolh","url":"/api/v1/shops?sort=price","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"제휴 매장 조인 가격순 상점 목록 조회","metadata":{"meta":{"limit":20,"offset":0}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":40}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"(\n  SELECT\n    s.id,\n    s.interest_id,\n    s.title,\n    s.description,\n    s.phone_number,\n    s.open_time,\n    s.close_time,\n    s.address,\n    s.latitude,\n    s.longitude,\n    s.parking,\n    s.floor,\n    s.price,\n    s.img,\n    s.reg_date,\n    s.mod_date,\n    CASE\n      WHEN p.id IS NOT NULL THEN true\n      ELSE false\n    END AS is_partner,\n    p.partner_date,\n    p.expiry_date,\n    p.status AS partner_status\n  FROM\n    shop s\n    INNER JOIN partner_shop p ON s.id = p.shop_id\n    AND p.status = 'active'\n  ORDER BY\n    p.partner_date ASC\n  LIMIT\n    20\n)\nUNION ALL\n(\n  SELECT\n    s.id,\n    s.interest_id,\n    s.title,\n    s.description,\n    s.phone_number,\n    s.open_time,\n    s.close_time,\n    s.address,\n    s.latitude,\n    s.longitude,\n    s.parking,\n    s.floor,\n    s.price,\n    s.img,\n    s.reg_date,\n    s.mod_date,\n    false AS is_partner,\n    NULL AS partner_date,\n    NULL AS expiry_date,\n    NULL AS partner_status\n  FROM\n    shop s\n    LEFT JOIN partner_shop p ON s.id = p.shop_id\n    AND p.status = 'active'\n  WHERE\n    p.id IS NULL\n  ORDER BY\n    s.price ASC\n  LIMIT\n    20\n  OFFSET\n    0\n)\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"리뷰를 찾을 수 없음","metadata":{"meta":{"reviewId":46}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"인증 코드 저장 성공","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [POST] /api/v1/common/send/auth 200 (41ms)","metadata":{"meta":{"duration":"41ms","requestId":"req-1743319969294-tvph0wqi9","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [DELETE] /api/v1/user/me/profile-image","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"DELETE","requestId":"req-1743319969336-6wkgyuup5","url":"/api/v1/user/me/profile-image","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"사용자 ID로 조회","metadata":{"meta":{"id":34,"query":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":41}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [GET] /api/v1/shops?sort=price 200 (31ms)","metadata":{"meta":{"duration":"31ms","requestId":"req-1743319969319-j3x9ibolh","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [DELETE] /api/v1/user/me/profile-image 200 (20ms)","metadata":{"meta":{"duration":"20ms","requestId":"req-1743319969336-6wkgyuup5","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [POST] /api/v1/common/check/auth","metadata":{"meta":{"body":{"code":"572793","phone_number":"01012345678"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319969356-w78qd0yrw","url":"/api/v1/common/check/auth","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"인증 코드 조회","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":41}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  phone,\n  code\nFROM\n  user_auth\nWHERE\n  phone = '01012345678'\n  AND code = '572793'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"트랜잭션 커밋 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"트랜잭션 연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [POST] /api/v1/reviews/shops/11670753 201 (114ms)","metadata":{"meta":{"duration":"114ms","requestId":"req-1743319969244-86dxuyw0t","statusCode":201,"statusMessage":"Created"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [GET] /api/v1/user/me/profile","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319969362-u2dwcrjj7","url":"/api/v1/user/me/profile","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"사용자 ID로 조회","metadata":{"meta":{"id":34,"query":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":35}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  id = '34'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [GET] /api/v1/shops?sort=review","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319969363-yia98ihy1","url":"/api/v1/shops?sort=review","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"제휴 매장 조인 리뷰순 상점 목록 조회","metadata":{"meta":{"limit":20,"offset":0}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":40}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"(\n  SELECT\n    s.id,\n    s.interest_id,\n    s.title,\n    s.description,\n    s.phone_number,\n    s.open_time,\n    s.close_time,\n    s.address,\n    s.latitude,\n    s.longitude,\n    s.parking,\n    s.floor,\n    s.price,\n    s.img,\n    s.reg_date,\n    s.mod_date,\n    CASE\n      WHEN p.id IS NOT NULL THEN true\n      ELSE false\n    END AS is_partner,\n    p.partner_date,\n    p.expiry_date,\n    p.status AS partner_status,\n    COUNT(r.id) AS review_count\n  FROM\n    shop s\n    INNER JOIN partner_shop p ON s.id = p.shop_id\n    AND p.status = 'active'\n    LEFT JOIN shop_review r ON s.id = r.shop_id\n  GROUP BY\n    s.id,\n    p.id,\n    p.partner_date,\n    p.expiry_date,\n    p.status\n  ORDER BY\n    p.partner_date ASC\n  LIMIT\n    20\n)\nUNION ALL\n(\n  SELECT\n    s.id,\n    s.interest_id,\n    s.title,\n    s.description,\n    s.phone_number,\n    s.open_time,\n    s.close_time,\n    s.address,\n    s.latitude,\n    s.longitude,\n    s.parking,\n    s.floor,\n    s.price,\n    s.img,\n    s.reg_date,\n    s.mod_date,\n    false AS is_partner,\n    NULL AS partner_date,\n    NULL AS expiry_date,\n    NULL AS partner_status,\n    COUNT(r.id) AS review_count\n  FROM\n    shop s\n    LEFT JOIN partner_shop p ON s.id = p.shop_id\n    AND p.status = 'active'\n    LEFT JOIN shop_review r ON s.id = r.shop_id\n  WHERE\n    p.id IS NULL\n  GROUP BY\n    s.id\n  ORDER BY\n    review_count DESC\n  LIMIT\n    20\n  OFFSET\n    0\n)\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319969368-jjj33pmhi","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":39}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"사용자 이메일 조회","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":41}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  phone\nFROM\n  user\nWHERE\n  phone = '01012345678'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [GET] /api/v1/user/me/profile 200 (12ms)","metadata":{"meta":{"duration":"12ms","requestId":"req-1743319969362-u2dwcrjj7","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [GET] /api/v1/shops?sort=review 200 (17ms)","metadata":{"meta":{"duration":"17ms","requestId":"req-1743319969363-yia98ihy1","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":15,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (13ms)","metadata":{"meta":{"duration":"13ms","requestId":"req-1743319969368-jjj33pmhi","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [POST] /api/v1/common/check/auth 200 (26ms)","metadata":{"meta":{"duration":"26ms","requestId":"req-1743319969356-w78qd0yrw","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 이미지 리뷰입니다 1743319969"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319969387-nf9r7apqi","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"리뷰 생성 시작","metadata":{"meta":{"description":"테스트 이미지 리뷰입니다 1743319969","shopId":11670753,"shopPrdId":0,"userId":30}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":41}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"트랜잭션 시작","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"MyBatis 매퍼 파라미터","metadata":{"meta":{"description":"테스트 이미지 리뷰입니다 1743319969","shopId":11670753,"shopPrdId":0,"userId":30}},"timestamp":"2025-03-30 16:32:49"}
{"level":"warn","message":"MyBatis 매퍼 오류, 직접 쿼리 시도","metadata":{"meta":{"error":"XML is not well-formed character or markup. Consider using CDATA section."}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"직접 SQL 쿼리 생성 시도","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"직접 쿼리로 리뷰 생성 성공","metadata":{"meta":{"reviewId":47,"shopId":11670753,"userId":30}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"리뷰 단일 조회 시작","metadata":{"meta":{"reviewId":47}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":39}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  s.title as shop_name,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN shop s ON r.shop_id = s.id\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.id = '47'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"리뷰를 찾을 수 없음","metadata":{"meta":{"reviewId":47}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"트랜잭션 커밋 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"트랜잭션 연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [POST] /api/v1/reviews/shops/11670753 201 (53ms)","metadata":{"meta":{"duration":"53ms","requestId":"req-1743319969387-nf9r7apqi","statusCode":201,"statusMessage":"Created"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743319969443-2usip4t66","url":"/api/v1/reviews/shops/11670753","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":41}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":16,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (16ms)","metadata":{"meta":{"duration":"16ms","requestId":"req-1743319969443-2usip4t66","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/46/images?index=1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"POST","requestId":"req-1743319969485-6ume72haj","url":"/api/v1/reviews/46/images?index=1","userAgent":"axios/1.7.9"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"이미지 업로드 시작","metadata":{"meta":{"fileSize":70,"imageIndex":1,"reviewId":46,"userId":30}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"리뷰 권한 확인 시작","metadata":{"meta":{"reviewId":46,"userId":30}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"권한 확인 쿼리 실행","metadata":{"meta":{"query":"SELECT\n  COUNT(1) as count\nFROM\n  shop_review\nWHERE\n  id = '46'\n  AND user_id = '30'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":41}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  COUNT(1) as count\nFROM\n  shop_review\nWHERE\n  id = '46'\n  AND user_id = '30'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"권한 확인 결과","metadata":{"meta":{"result":{"count":1}}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"파일 확장자 확인","metadata":{"meta":{"extension":".png"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"파일 저장 경로 생성","metadata":{"meta":{"filePath":"/Users/hj/work/Chaltteok_BE/uploads/review-images/46_1_ac77ea01-d8d7-478d-8dab-d1473e804d07.png"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"파일이 디스크에 저장됨","metadata":{"meta":{"filePath":"/Users/hj/work/Chaltteok_BE/uploads/review-images/46_1_ac77ea01-d8d7-478d-8dab-d1473e804d07.png"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":41}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"트랜잭션 시작","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"이미지 URL 업데이트 파라미터","metadata":{"meta":{"imageUrl":"/uploads/review-images/46_1_ac77ea01-d8d7-478d-8dab-d1473e804d07.png","reviewId":46,"userId":30}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"이미지 URL 업데이트 쿼리","metadata":{"meta":{"query":"UPDATE shop_review\nSET\n  img_1 = '/uploads/review-images/46_1_ac77ea01-d8d7-478d-8dab-d1473e804d07.png',\n  mod_date = NOW ()\nWHERE\n  id = '46'\n  AND user_id = '30'"}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"이미지 URL 업데이트 결과","metadata":{"meta":{"affectedRows":1}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"이미지 업로드 성공","metadata":{"meta":{"imageIndex":1,"imageUrl":"/uploads/review-images/46_1_ac77ea01-d8d7-478d-8dab-d1473e804d07.png","reviewId":46}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"트랜잭션 커밋 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"debug","message":"트랜잭션 연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 16:32:49"}
{"level":"info","message":"로컬 개발 환경 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:49:02"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"localhost"}},"timestamp":"2025-03-30 16:49:02"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:49:02"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 16:49:02"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:49:02"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:49:02"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:49:02"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:49:02"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:49:02"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:49:02"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:49:02"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:49:02"}
{"level":"info","message":"로컬 개발 환경 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:49:54"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"localhost"}},"timestamp":"2025-03-30 16:49:54"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:49:54"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 16:49:54"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:49:54"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:49:54"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:49:54"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:49:54"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:49:54"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:49:54"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:49:54"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:49:54"}
{"level":"info","message":"로컬 개발 환경 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:53:20"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"localhost"}},"timestamp":"2025-03-30 16:53:20"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:53:20"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 16:53:20"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:53:20"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:53:20"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:53:20"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:53:20"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:53:20"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:53:20"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:53:20"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:53:20"}
{"level":"http","message":"요청 [GET] /api/v1/reports/1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743321286750-3s6n4j8wa","url":"/api/v1/reports/1","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 16:54:46"}
{"level":"http","message":"실패 [GET] /api/v1/reports/1 404 (3ms)","metadata":{"meta":{"duration":"3ms","requestId":"req-1743321286750-3s6n4j8wa","statusCode":404,"statusMessage":"Not Found"}},"timestamp":"2025-03-30 16:54:46"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"admin@test.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743321305921-v8tymoh6l","url":"/api/v1/auth/login","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 16:55:05"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"admin@test.com"}},"timestamp":"2025-03-30 16:55:05"}
{"level":"error","message":"데이터베이스 연결 획득 실패","metadata":{"error":"Access denied for user 'root'@'localhost'","meta":{"code":"ER_ACCESS_DENIED_NO_PASSWORD_ERROR","errno":1698,"sqlMessage":"Access denied for user 'root'@'localhost'","sqlState":"28000"}},"stack":"Error: Access denied for user 'root'@'localhost'\n    at Packet.asError (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/packets/packet.js:740:17)\n    at ClientHandshake.execute (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/commands/command.js:29:26)\n    at PoolConnection.handlePacket (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:475:34)\n    at PacketParser.onPacket (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:93:12)\n    at PacketParser.executeStart (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/packet_parser.js:75:16)\n    at Socket.<anonymous> (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:100:25)\n    at Socket.emit (node:events:507:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)","timestamp":"2025-03-30 16:55:05"}
{"level":"error","message":"쿼리 실행 실패","metadata":{"error":{"error":{"name":"DatabaseError","originalError":{"code":"ER_ACCESS_DENIED_NO_PASSWORD_ERROR","errno":1698,"sqlMessage":"Access denied for user 'root'@'localhost'","sqlState":"28000"}},"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'admin@test.com'"},"meta":{"error":{"name":"DatabaseError","originalError":{"code":"ER_ACCESS_DENIED_NO_PASSWORD_ERROR","errno":1698,"sqlMessage":"Access denied for user 'root'@'localhost'","sqlState":"28000"}},"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'admin@test.com'"}},"timestamp":"2025-03-30 16:55:05"}
{"level":"error","message":"이메일로 사용자 조회 실패","metadata":{"error":"쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"name":"DatabaseError","originalError":{"code":"ER_ACCESS_DENIED_NO_PASSWORD_ERROR","errno":1698,"sqlMessage":"Access denied for user 'root'@'localhost'","sqlState":"28000"}}}},"stack":"Error: Access denied for user 'root'@'localhost'\n    at Packet.asError (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/packets/packet.js:740:17)\n    at ClientHandshake.execute (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/commands/command.js:29:26)\n    at PoolConnection.handlePacket (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:475:34)\n    at PacketParser.onPacket (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:93:12)\n    at PacketParser.executeStart (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/packet_parser.js:75:16)\n    at Socket.<anonymous> (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/base/connection.js:100:25)\n    at Socket.emit (node:events:507:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)","timestamp":"2025-03-30 16:55:05"}
{"level":"http","message":"실패 [POST] /api/v1/auth/login 401 (40ms)","metadata":{"meta":{"duration":"40ms","requestId":"req-1743321305921-v8tymoh6l","statusCode":401,"statusMessage":"Unauthorized"}},"timestamp":"2025-03-30 16:55:05"}
{"level":"info","message":"로컬 개발 환경 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:55:49"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"localhost"}},"timestamp":"2025-03-30 16:55:49"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:55:49"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 16:55:49"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:55:49"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:55:49"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:55:49"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:55:49"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:55:49"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:55:49"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:55:49"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:55:49"}
{"level":"info","message":"로컬 개발 환경 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:56:05"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"localhost"}},"timestamp":"2025-03-30 16:56:05"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:56:05"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 16:56:05"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:56:05"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:56:05"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:56:05"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:56:05"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:56:05"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:56:05"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:56:05"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:56:05"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:58:44"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 16:58:44"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:58:44"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 16:58:44"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:58:44"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:58:44"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:58:44"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:58:44"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:58:44"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:58:44"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:58:44"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:58:44"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:59:05"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 16:59:05"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:59:05"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 16:59:05"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:59:05"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:59:05"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:59:05"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:59:05"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:59:05"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:59:05"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:59:05"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:59:05"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 16:59:29"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 16:59:29"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 16:59:29"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 16:59:29"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 16:59:29"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 16:59:29"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 16:59:29"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 16:59:29"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 16:59:29"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 16:59:29"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 16:59:29"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 16:59:29"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 17:00:38"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 17:00:38"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 17:00:38"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 17:00:38"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 17:00:38"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 17:00:38"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 17:00:38"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 17:00:38"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 17:00:38"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 17:00:38"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 17:00:38"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 17:00:38"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:07"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 17:01:07"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 17:01:07"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:07"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 17:01:07"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 17:01:07"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 17:01:07"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 17:01:07"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:07"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:07"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:07"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 17:01:07"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:21"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 17:01:21"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 17:01:21"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:21"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 17:01:21"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 17:01:21"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 17:01:21"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 17:01:21"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:21"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:21"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:21"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 17:01:21"}
{"level":"info","message":"환경 변수 확인","metadata":{"meta":{"JWT_SECRET_KEY":"***설정됨***","MODE":"PROD","NODE_ENV":"development","PROD_DB_HOST":"43.201.211.39","PROD_DB_NAME":"chaltteok","PROD_DB_PASSWORD":"***설정됨***","PROD_DB_PORT":"3306","PROD_DB_USER":"chal"}},"timestamp":"2025-03-30 17:01:52"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:52"}
{"level":"info","message":"데이터베이스 설정 확인","metadata":{"meta":{"database":"chaltteok","host":"43.201.211.39","port":"3306","user":"chal"}},"timestamp":"2025-03-30 17:01:52"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 17:01:52"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 17:01:52"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:53"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 17:01:53"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 17:01:53"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 17:01:53"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 17:01:53"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:53"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:53"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 17:01:53"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 17:01:53"}
{"level":"info","message":"환경 변수 확인","metadata":{"meta":{"JWT_SECRET_KEY":"***설정됨***","MODE":"PROD","NODE_ENV":"development","PROD_DB_HOST":"43.201.211.39","PROD_DB_NAME":"chaltteok","PROD_DB_PASSWORD":"***설정됨***","PROD_DB_PORT":"3306","PROD_DB_USER":"chal"}},"timestamp":"2025-03-30 17:02:01"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 17:02:01"}
{"level":"info","message":"데이터베이스 설정 확인","metadata":{"meta":{"database":"chaltteok","host":"43.201.211.39","port":"3306","user":"chal"}},"timestamp":"2025-03-30 17:02:01"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 17:02:01"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 17:02:01"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 17:02:01"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 17:02:01"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 17:02:01"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 17:02:01"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 17:02:01"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 17:02:01"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 17:02:01"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 17:02:01"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 17:02:01"}
{"level":"info","message":"환경 변수 확인","metadata":{"meta":{"JWT_SECRET_KEY":"***설정됨***","MODE":"PROD","NODE_ENV":"development","PROD_DB_HOST":"43.201.211.39","PROD_DB_NAME":"chaltteok","PROD_DB_PASSWORD":"***설정됨***","PROD_DB_PORT":"3306","PROD_DB_USER":"chal"}},"timestamp":"2025-03-30 17:05:49"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 17:05:49"}
{"level":"info","message":"데이터베이스 설정 확인","metadata":{"meta":{"database":"chaltteok","host":"43.201.211.39","port":"3306","user":"chal"}},"timestamp":"2025-03-30 17:05:49"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 17:05:49"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 17:05:49"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 17:05:49"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 17:05:49"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 17:05:49"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 17:05:49"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 17:05:49"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 17:05:49"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 17:05:49"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 17:05:49"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 17:05:49"}
{"level":"info","message":"환경 변수 확인","metadata":{"meta":{"JWT_SECRET_KEY":"***설정됨***","MODE":"PROD","NODE_ENV":"development","PROD_DB_HOST":"43.201.211.39","PROD_DB_NAME":"chaltteok","PROD_DB_PASSWORD":"***설정됨***","PROD_DB_PORT":"3306","PROD_DB_USER":"chal"}},"timestamp":"2025-03-30 17:06:01"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 17:06:01"}
{"level":"info","message":"데이터베이스 설정 확인","metadata":{"meta":{"database":"chaltteok","host":"43.201.211.39","port":"3306","user":"chal"}},"timestamp":"2025-03-30 17:06:01"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 17:06:01"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 17:06:01"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 17:06:01"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 17:06:01"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 17:06:01"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 17:06:01"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 17:06:01"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 17:06:01"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 17:06:01"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 17:06:01"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 17:06:01"}
{"level":"info","message":"환경 변수 확인","metadata":{"meta":{"JWT_SECRET_KEY":"***설정됨***","MODE":"PROD","NODE_ENV":"development","PROD_DB_HOST":"43.201.211.39","PROD_DB_NAME":"chaltteok","PROD_DB_PASSWORD":"***설정됨***","PROD_DB_PORT":"3306","PROD_DB_USER":"chal"}},"timestamp":"2025-03-30 17:06:12"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 17:06:12"}
{"level":"info","message":"데이터베이스 설정 확인","metadata":{"meta":{"database":"chaltteok","host":"43.201.211.39","port":"3306","user":"chal"}},"timestamp":"2025-03-30 17:06:12"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 17:06:12"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 17:06:12"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 17:06:12"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 17:06:12"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 17:06:12"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 17:06:12"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 17:06:12"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 17:06:12"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 17:06:12"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 17:06:12"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 17:06:12"}
{"level":"info","message":"환경 변수 확인","metadata":{"meta":{"JWT_SECRET_KEY":"***설정됨***","MODE":"PROD","NODE_ENV":"development","PROD_DB_HOST":"43.201.211.39","PROD_DB_NAME":"chaltteok","PROD_DB_PASSWORD":"***설정됨***","PROD_DB_PORT":"3306","PROD_DB_USER":"chal"}},"timestamp":"2025-03-30 17:10:51"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 17:10:51"}
{"level":"info","message":"데이터베이스 설정 확인","metadata":{"meta":{"database":"chaltteok","host":"43.201.211.39","port":"3306","user":"chal"}},"timestamp":"2025-03-30 17:10:51"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 17:10:51"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 17:10:51"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 17:10:52"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 17:10:52"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 17:10:52"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 17:10:52"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 17:10:52"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 17:10:52"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 17:10:52"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 17:10:52"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 17:10:52"}
{"level":"info","message":"환경 변수 확인","metadata":{"meta":{"JWT_SECRET_KEY":"***설정됨***","MODE":"PROD","NODE_ENV":"development","PROD_DB_HOST":"43.201.211.39","PROD_DB_NAME":"chaltteok","PROD_DB_PASSWORD":"***설정됨***","PROD_DB_PORT":"3306","PROD_DB_USER":"chal"}},"timestamp":"2025-03-30 17:11:13"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 17:11:13"}
{"level":"info","message":"데이터베이스 설정 확인","metadata":{"meta":{"database":"chaltteok","host":"43.201.211.39","port":"3306","user":"chal"}},"timestamp":"2025-03-30 17:11:13"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 17:11:13"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 17:11:13"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 17:11:13"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 17:11:13"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 17:11:13"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 17:11:13"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 17:11:13"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 17:11:13"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 17:11:13"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 17:11:13"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 17:11:13"}
{"level":"info","message":"환경 변수 확인","metadata":{"meta":{"JWT_SECRET_KEY":"***설정됨***","MODE":"PROD","NODE_ENV":"development","PROD_DB_HOST":"43.201.211.39","PROD_DB_NAME":"chaltteok","PROD_DB_PASSWORD":"***설정됨***","PROD_DB_PORT":"3306","PROD_DB_USER":"chal"}},"timestamp":"2025-03-30 17:11:26"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 17:11:26"}
{"level":"info","message":"데이터베이스 설정 확인","metadata":{"meta":{"database":"chaltteok","host":"43.201.211.39","port":"3306","user":"chal"}},"timestamp":"2025-03-30 17:11:26"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 17:11:26"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 17:11:26"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 17:11:26"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 17:11:26"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 17:11:26"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 17:11:26"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 17:11:26"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 17:11:26"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 17:11:26"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 17:11:26"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 17:11:26"}
{"level":"info","message":"환경 변수 확인","metadata":{"meta":{"JWT_SECRET_KEY":"***설정됨***","MODE":"PROD","NODE_ENV":"development","PROD_DB_HOST":"43.201.211.39","PROD_DB_NAME":"chaltteok","PROD_DB_PASSWORD":"***설정됨***","PROD_DB_PORT":"3306","PROD_DB_USER":"chal"}},"timestamp":"2025-03-30 17:12:23"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 17:12:23"}
{"level":"info","message":"데이터베이스 설정 확인","metadata":{"meta":{"database":"chaltteok","host":"43.201.211.39","port":"3306","user":"chal"}},"timestamp":"2025-03-30 17:12:23"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 17:12:23"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 17:12:23"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 17:12:23"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 17:12:23"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 17:12:23"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 17:12:23"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 17:12:23"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 17:12:23"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 17:12:23"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 17:12:23"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 17:12:23"}
{"level":"http","message":"요청 [GET] /api/v1/shops/1","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743322349255-lat7779po","url":"/api/v1/shops/1","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 17:12:29"}
{"level":"debug","message":"제휴 정보 포함 매장 정보 조회","metadata":{"meta":{"id":1}},"timestamp":"2025-03-30 17:12:29"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 17:12:29"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  CASE\n    WHEN p.id IS NOT NULL THEN true\n    ELSE false\n  END AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  LEFT JOIN partner_shop p ON s.id = p.shop_id\nWHERE\n  s.id = '1'"}},"timestamp":"2025-03-30 17:12:29"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 17:12:29"}
{"level":"http","message":"실패 [GET] /api/v1/shops/1 404 (100ms)","metadata":{"meta":{"duration":"100ms","requestId":"req-1743322349255-lat7779po","statusCode":404,"statusMessage":"Not Found"}},"timestamp":"2025-03-30 17:12:29"}
{"level":"http","message":"요청 [POST] /api/v1/reports/shop","metadata":{"meta":{"body":{"description":"테스트","reportType":"inappropriate","shopId":1,"userId":1},"ip":"127.0.0.1","method":"POST","requestId":"req-1743322368866-09jvjojxd","url":"/api/v1/reports/shop","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 17:12:48"}
{"level":"http","message":"실패 [POST] /api/v1/reports/shop 404 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743322368866-09jvjojxd","statusCode":404,"statusMessage":"Not Found"}},"timestamp":"2025-03-30 17:12:48"}
{"level":"http","message":"요청 [GET] /api/v1/shops","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743322403300-zcrab8sug","url":"/api/v1/shops","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 17:13:23"}
{"level":"debug","message":"제휴 매장 조인 상점 목록 조회","metadata":{"meta":{"limit":20,"offset":0}},"timestamp":"2025-03-30 17:13:23"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 17:13:23"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  CASE\n    WHEN p.id IS NOT NULL THEN true\n    ELSE false\n  END AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  LEFT JOIN partner_shop p ON s.id = p.shop_id\n  AND p.status = 'active'\nORDER BY\n  p.id IS NOT NULL DESC,\n  p.partner_date ASC,\n  s.id ASC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 17:13:23"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 17:13:23"}
{"level":"http","message":"응답 [GET] /api/v1/shops 200 (19ms)","metadata":{"meta":{"duration":"19ms","requestId":"req-1743322403300-zcrab8sug","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 17:13:23"}
{"level":"http","message":"요청 [GET] /api/v1/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743322413484-7bf2t3byi","url":"/api/v1/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 17:13:33"}
{"level":"debug","message":"제휴 정보 포함 매장 정보 조회","metadata":{"meta":{"id":11670753}},"timestamp":"2025-03-30 17:13:33"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 17:13:33"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  s.id,\n  s.interest_id,\n  s.title,\n  s.description,\n  s.phone_number,\n  s.open_time,\n  s.close_time,\n  s.address,\n  s.latitude,\n  s.longitude,\n  s.parking,\n  s.floor,\n  s.price,\n  s.img,\n  s.reg_date,\n  s.mod_date,\n  CASE\n    WHEN p.id IS NOT NULL THEN true\n    ELSE false\n  END AS is_partner,\n  p.partner_date,\n  p.expiry_date,\n  p.status AS partner_status\nFROM\n  shop s\n  LEFT JOIN partner_shop p ON s.id = p.shop_id\nWHERE\n  s.id = '11670753'"}},"timestamp":"2025-03-30 17:13:33"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 17:13:33"}
{"level":"http","message":"응답 [GET] /api/v1/shops/11670753 200 (17ms)","metadata":{"meta":{"duration":"17ms","requestId":"req-1743322413484-7bf2t3byi","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 17:13:33"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743322423020-4i1zo1jb4","url":"/api/v1/reviews/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 17:13:43"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 17:13:43"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 17:13:43"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 17:13:43"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 17:13:43"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 17:13:43"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":16,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 17:13:43"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (16ms)","metadata":{"meta":{"duration":"16ms","requestId":"req-1743322423020-4i1zo1jb4","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 17:13:43"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@example.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743327628861-7jw5uzg3j","url":"/api/v1/auth/login","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 18:40:28"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@example.com"}},"timestamp":"2025-03-30 18:40:28"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 18:40:28"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@example.com'"}},"timestamp":"2025-03-30 18:40:28"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 18:40:28"}
{"level":"http","message":"실패 [POST] /api/v1/auth/login 401 (27ms)","metadata":{"meta":{"duration":"27ms","requestId":"req-1743327628861-7jw5uzg3j","statusCode":401,"statusMessage":"Unauthorized"}},"timestamp":"2025-03-30 18:40:28"}
{"level":"http","message":"요청 [POST] /api/v1/auth/register","metadata":{"meta":{"body":{"email":"test@example.com","name":"테스트 사용자","password":"******","phone":"01012345678"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743327638350-13pngoiql","url":"/api/v1/auth/register","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 18:40:38"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@example.com"}},"timestamp":"2025-03-30 18:40:38"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 18:40:38"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@example.com'"}},"timestamp":"2025-03-30 18:40:38"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 18:40:38"}
{"level":"http","message":"실패 [POST] /api/v1/auth/register 400 (18ms)","metadata":{"meta":{"duration":"18ms","requestId":"req-1743327638350-13pngoiql","statusCode":400,"statusMessage":"Bad Request"}},"timestamp":"2025-03-30 18:40:38"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@example.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743327647175-thacox100","url":"/api/v1/auth/login","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 18:40:47"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@example.com"}},"timestamp":"2025-03-30 18:40:47"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 18:40:47"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@example.com'"}},"timestamp":"2025-03-30 18:40:47"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 18:40:47"}
{"level":"http","message":"실패 [POST] /api/v1/auth/login 401 (14ms)","metadata":{"meta":{"duration":"14ms","requestId":"req-1743327647175-thacox100","statusCode":401,"statusMessage":"Unauthorized"}},"timestamp":"2025-03-30 18:40:47"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"user1@example.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743327656314-bqm5gaq7k","url":"/api/v1/auth/login","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 18:40:56"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"user1@example.com"}},"timestamp":"2025-03-30 18:40:56"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 18:40:56"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'user1@example.com'"}},"timestamp":"2025-03-30 18:40:56"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 18:40:56"}
{"level":"http","message":"실패 [POST] /api/v1/auth/login 401 (14ms)","metadata":{"meta":{"duration":"14ms","requestId":"req-1743327656314-bqm5gaq7k","statusCode":401,"statusMessage":"Unauthorized"}},"timestamp":"2025-03-30 18:40:56"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"test@example.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743327920061-0cgci6ikw","url":"/api/v1/auth/login","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 18:45:20"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"test@example.com"}},"timestamp":"2025-03-30 18:45:20"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 18:45:20"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'test@example.com'"}},"timestamp":"2025-03-30 18:45:20"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 18:45:20"}
{"level":"http","message":"실패 [POST] /api/v1/auth/login 401 (20ms)","metadata":{"meta":{"duration":"20ms","requestId":"req-1743327920061-0cgci6ikw","statusCode":401,"statusMessage":"Unauthorized"}},"timestamp":"2025-03-30 18:45:20"}
{"level":"http","message":"요청 [POST] /api/v1/auth/register","metadata":{"meta":{"body":{"email":"newtest@example.com","name":"테스트 사용자","password":"******","phone":"01012345678"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743327931762-a1ludzcn5","url":"/api/v1/auth/register","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 18:45:31"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"newtest@example.com"}},"timestamp":"2025-03-30 18:45:31"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 18:45:31"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'newtest@example.com'"}},"timestamp":"2025-03-30 18:45:31"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 18:45:31"}
{"level":"debug","message":"사용자 생성 시작","metadata":{"meta":{"userModel":{"address":"","age":null,"email":"newtest@example.com","gender":null,"id":null,"name":"테스트 사용자","nickName":null,"password":"$2a$10$P1AwBg1GEY.QBxjGp5UVHueKC3SoUeetUY/lgn3yfv5nZ4X8CnFs2","phone":"01012345678","profileImage":null,"socialId":null,"type":"email"}}},"timestamp":"2025-03-30 18:45:31"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 18:45:31"}
{"level":"debug","message":"INSERT 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user (\n    type,\n    email,\n    password,\n    name,\n    age,\n    gender,\n    nick_name,\n    phone,\n    address,\n    social_id,\n    profile_image\n  )\nVALUES\n  (\n    'email',\n    'newtest@example.com',\n    '$2a$10$P1AwBg1GEY.QBxjGp5UVHueKC3SoUeetUY/lgn3yfv5nZ4X8CnFs2',\n    '테스트 사용자',\n    NULL,\n    NULL,\n    NULL,\n    '01012345678',\n    '',\n    NULL,\n    NULL\n  )"}},"timestamp":"2025-03-30 18:45:31"}
{"level":"info","message":"사용자 생성 성공","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 18:45:31"}
{"level":"http","message":"응답 [POST] /api/v1/auth/register 201 (108ms)","metadata":{"meta":{"duration":"108ms","requestId":"req-1743327931762-a1ludzcn5","statusCode":201,"statusMessage":"Created"}},"timestamp":"2025-03-30 18:45:31"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"newtest@example.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743327936878-pxh7aeopz","url":"/api/v1/auth/login","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 18:45:36"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"newtest@example.com"}},"timestamp":"2025-03-30 18:45:36"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 18:45:36"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'newtest@example.com'"}},"timestamp":"2025-03-30 18:45:36"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 18:45:36"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 18:45:36"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (88ms)","metadata":{"meta":{"duration":"88ms","requestId":"req-1743327936878-pxh7aeopz","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 18:45:36"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 18:45:36"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session_data)\nVALUES\n  (\n    '35',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'\n  ) ON DUPLICATE KEY\nUPDATE session_data = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'"}},"timestamp":"2025-03-30 18:45:36"}
{"level":"error","message":"UPDATE/DELETE 쿼리 실행 실패","metadata":{"error":{"error":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"message":"Unknown column 'session_data' in 'field list'","sql":"INSERT INTO\n  user_session (user_id, session_data)\nVALUES\n  (\n    '35',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'\n  ) ON DUPLICATE KEY\nUPDATE session_data = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'","sqlMessage":"Unknown column 'session_data' in 'field list'","sqlState":"42S22"},"params":[],"sql":"INSERT INTO\n  user_session (user_id, session_data)\nVALUES\n  (\n    '35',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'\n  ) ON DUPLICATE KEY\nUPDATE session_data = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'"},"meta":{"error":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"message":"Unknown column 'session_data' in 'field list'","sql":"INSERT INTO\n  user_session (user_id, session_data)\nVALUES\n  (\n    '35',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'\n  ) ON DUPLICATE KEY\nUPDATE session_data = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'","sqlMessage":"Unknown column 'session_data' in 'field list'","sqlState":"42S22"},"params":[],"sql":"INSERT INTO\n  user_session (user_id, session_data)\nVALUES\n  (\n    '35',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'\n  ) ON DUPLICATE KEY\nUPDATE session_data = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'"}},"timestamp":"2025-03-30 18:45:36"}
{"level":"error","message":"사용자 세션 저장 실패","metadata":{"error":"UPDATE/DELETE 쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"message":"Unknown column 'session_data' in 'field list'","sql":"INSERT INTO\n  user_session (user_id, session_data)\nVALUES\n  (\n    '35',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'\n  ) ON DUPLICATE KEY\nUPDATE session_data = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'","sqlMessage":"Unknown column 'session_data' in 'field list'","sqlState":"42S22"}}},"stack":"Error: Unknown column 'session_data' in 'field list'\n    at PromisePoolConnection.query (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/promise/connection.js:29:22)\n    at Database.execute (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:200:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SessionRepository.saveSession (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/sessionRepository.js:42:13)","timestamp":"2025-03-30 18:45:36"}
{"level":"error","message":"unhandledRejection: UPDATE/DELETE 쿼리 실행 중 오류가 발생했습니다\nError: Unknown column 'session_data' in 'field list'\n    at PromisePoolConnection.query (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/promise/connection.js:29:22)\n    at Database.execute (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:200:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SessionRepository.saveSession (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/sessionRepository.js:42:13)","metadata":{"date":"Sun Mar 30 2025 18:45:36 GMT+0900 (대한민국 표준시)","error":{"name":"DatabaseError","originalError":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"message":"Unknown column 'session_data' in 'field list'","sql":"INSERT INTO\n  user_session (user_id, session_data)\nVALUES\n  (\n    '35',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'\n  ) ON DUPLICATE KEY\nUPDATE session_data = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'","sqlMessage":"Unknown column 'session_data' in 'field list'","sqlState":"42S22"}},"os":{"loadavg":[3.3134765625,5.06689453125,4.81787109375],"uptime":4914414},"process":{"argv":["/opt/homebrew/Cellar/node/23.6.0/bin/node","/Users/hj/work/Chaltteok_BE/chaltteok.js"],"cwd":"/Users/hj/work/Chaltteok_BE","execPath":"/opt/homebrew/Cellar/node/23.6.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":116343,"external":3687049,"heapTotal":26476544,"heapUsed":23838280,"rss":62177280},"pid":10529,"uid":501,"version":"v23.6.0"},"rejection":true,"trace":[{"column":22,"file":"/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/promise/connection.js","function":"PromisePoolConnection.query","line":29,"method":"query","native":false},{"column":41,"file":"file:///Users/hj/work/Chaltteok_BE/src/utils/database.js","function":"Database.execute","line":200,"method":"execute","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":105,"method":"processTicksAndRejections","native":false},{"column":13,"file":"file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/sessionRepository.js","function":"async SessionRepository.saveSession","line":42,"method":"saveSession","native":false}]},"stack":"Error: Unknown column 'session_data' in 'field list'\n    at PromisePoolConnection.query (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/promise/connection.js:29:22)\n    at Database.execute (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:200:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SessionRepository.saveSession (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/sessionRepository.js:42:13)","timestamp":"2025-03-30 18:45:36"}
{"level":"error","message":"처리되지 않은 프로미스 거부","metadata":{"error":{"promise":{},"reason":{"name":"DatabaseError","originalError":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"message":"Unknown column 'session_data' in 'field list'","sql":"INSERT INTO\n  user_session (user_id, session_data)\nVALUES\n  (\n    '35',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'\n  ) ON DUPLICATE KEY\nUPDATE session_data = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'","sqlMessage":"Unknown column 'session_data' in 'field list'","sqlState":"42S22"}}},"meta":{"promise":{},"reason":{"name":"DatabaseError","originalError":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"message":"Unknown column 'session_data' in 'field list'","sql":"INSERT INTO\n  user_session (user_id, session_data)\nVALUES\n  (\n    '35',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'\n  ) ON DUPLICATE KEY\nUPDATE session_data = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjc5MzZ9.HFaOeK5mxdCUawsSxu57xiM8zjbIVIqJX8bbB2GeX9E'","sqlMessage":"Unknown column 'session_data' in 'field list'","sqlState":"42S22"}}}},"timestamp":"2025-03-30 18:45:36"}
{"level":"http","message":"요청 [POST] /api/v1/reports/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 신고입니다.","reportType":"불건전한 내용"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743327945082-2rq35la2q","url":"/api/v1/reports/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 18:45:45"}
{"level":"info","message":"인증 성공","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 18:45:45"}
{"level":"debug","message":"신고 요청 받음","metadata":{"meta":{"reportType":"불건전한 내용","shopId":"11670753","user":{"iat":1743327936,"userId":35},"userId":35}},"timestamp":"2025-03-30 18:45:45"}
{"level":"debug","message":"신고 생성 쿼리 실행","metadata":{"meta":{"reportData":{"description":"테스트 신고입니다.","reportType":"불건전한 내용","targetId":11670753,"targetType":"shop","userId":35}}},"timestamp":"2025-03-30 18:45:45"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 18:45:45"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    '35',\n    '불건전한 내용',\n    '테스트 신고입니다.',\n    'pending'\n  )"}},"timestamp":"2025-03-30 18:45:45"}
{"level":"error","message":"UPDATE/DELETE 쿼리 실행 실패","metadata":{"error":{"error":{"code":"WARN_DATA_TRUNCATED","errno":1265,"message":"Data truncated for column 'report_type' at row 1","sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    '35',\n    '불건전한 내용',\n    '테스트 신고입니다.',\n    'pending'\n  )","sqlMessage":"Data truncated for column 'report_type' at row 1","sqlState":"01000"},"params":[],"sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    '35',\n    '불건전한 내용',\n    '테스트 신고입니다.',\n    'pending'\n  )"},"meta":{"error":{"code":"WARN_DATA_TRUNCATED","errno":1265,"message":"Data truncated for column 'report_type' at row 1","sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    '35',\n    '불건전한 내용',\n    '테스트 신고입니다.',\n    'pending'\n  )","sqlMessage":"Data truncated for column 'report_type' at row 1","sqlState":"01000"},"params":[],"sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    '35',\n    '불건전한 내용',\n    '테스트 신고입니다.',\n    'pending'\n  )"}},"timestamp":"2025-03-30 18:45:45"}
{"level":"error","message":"신고 생성 실패:","metadata":{"error":"UPDATE/DELETE 쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"code":"WARN_DATA_TRUNCATED","errno":1265,"message":"Data truncated for column 'report_type' at row 1","sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    '35',\n    '불건전한 내용',\n    '테스트 신고입니다.',\n    'pending'\n  )","sqlMessage":"Data truncated for column 'report_type' at row 1","sqlState":"01000"}}},"stack":"Error: Data truncated for column 'report_type' at row 1\n    at PromisePoolConnection.query (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/promise/connection.js:29:22)\n    at Database.execute (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:200:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ReportRepository.createReport (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/reportRepository.js:37:28)\n    at async ReportService.createShopReport (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:33:30)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 18:45:45"}
{"level":"error","message":"샵 신고 생성 오류:","metadata":{"error":"UPDATE/DELETE 쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"code":"WARN_DATA_TRUNCATED","errno":1265,"message":"Data truncated for column 'report_type' at row 1","sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    '35',\n    '불건전한 내용',\n    '테스트 신고입니다.',\n    'pending'\n  )","sqlMessage":"Data truncated for column 'report_type' at row 1","sqlState":"01000"}}},"stack":"Error: Data truncated for column 'report_type' at row 1\n    at PromisePoolConnection.query (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/promise/connection.js:29:22)\n    at Database.execute (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:200:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ReportRepository.createReport (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/reportRepository.js:37:28)\n    at async ReportService.createShopReport (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:33:30)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 18:45:45"}
{"level":"error","message":"샵 신고 생성 오류:","metadata":{"error":"UPDATE/DELETE 쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"code":"WARN_DATA_TRUNCATED","errno":1265,"message":"Data truncated for column 'report_type' at row 1","sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    '35',\n    '불건전한 내용',\n    '테스트 신고입니다.',\n    'pending'\n  )","sqlMessage":"Data truncated for column 'report_type' at row 1","sqlState":"01000"}}},"stack":"Error: Data truncated for column 'report_type' at row 1\n    at PromisePoolConnection.query (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/promise/connection.js:29:22)\n    at Database.execute (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:200:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ReportRepository.createReport (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/reportRepository.js:37:28)\n    at async ReportService.createShopReport (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:33:30)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 18:45:45"}
{"level":"http","message":"실패 [POST] /api/v1/reports/shops/11670753 400 (19ms)","metadata":{"meta":{"duration":"19ms","requestId":"req-1743327945082-2rq35la2q","statusCode":400,"statusMessage":"Bad Request"}},"timestamp":"2025-03-30 18:45:45"}
{"level":"http","message":"요청 [POST] /api/v1/reports/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 신고입니다.","reportType":"spam"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743327961163-vybyqanon","url":"/api/v1/reports/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 18:46:01"}
{"level":"info","message":"인증 성공","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 18:46:01"}
{"level":"debug","message":"신고 요청 받음","metadata":{"meta":{"reportType":"spam","shopId":"11670753","user":{"iat":1743327936,"userId":35},"userId":35}},"timestamp":"2025-03-30 18:46:01"}
{"level":"debug","message":"신고 생성 쿼리 실행","metadata":{"meta":{"reportData":{"description":"테스트 신고입니다.","reportType":"spam","targetId":11670753,"targetType":"shop","userId":35}}},"timestamp":"2025-03-30 18:46:01"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 18:46:01"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    '35',\n    'spam',\n    '테스트 신고입니다.',\n    'pending'\n  )"}},"timestamp":"2025-03-30 18:46:01"}
{"level":"info","message":"신고 생성 성공","metadata":{"meta":{}},"timestamp":"2025-03-30 18:46:01"}
{"level":"debug","message":"신고 상세 조회 시작","metadata":{"meta":{}},"timestamp":"2025-03-30 18:46:01"}
{"level":"debug","message":"신고 상세 조회 쿼리 실행","metadata":{"meta":{"params":[null],"query":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        ELSE '알 수 없음'\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = ?\n            "}},"timestamp":"2025-03-30 18:46:01"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":42}},"timestamp":"2025-03-30 18:46:01"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[null],"sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        ELSE '알 수 없음'\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = ?\n            "}},"timestamp":"2025-03-30 18:46:01"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 18:46:01"}
{"level":"error","message":"신고를 찾을 수 없음","metadata":{"error":{},"meta":{}},"timestamp":"2025-03-30 18:46:01"}
{"level":"error","message":"신고 상세 조회 실패","metadata":{"error":"신고를 찾을 수 없습니다.","meta":{}},"stack":"Error: 신고를 찾을 수 없습니다.\n    at ReportService.getReportById (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:121:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ReportService.createShopReport (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:35:20)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 18:46:01"}
{"level":"error","message":"샵 신고 생성 오류:","metadata":{"error":"신고를 찾을 수 없습니다.","meta":{}},"stack":"Error: 신고를 찾을 수 없습니다.\n    at ReportService.getReportById (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:121:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ReportService.createShopReport (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:35:20)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 18:46:01"}
{"level":"error","message":"샵 신고 생성 오류:","metadata":{"error":"신고를 찾을 수 없습니다.","meta":{}},"stack":"Error: 신고를 찾을 수 없습니다.\n    at ReportService.getReportById (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:121:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ReportService.createShopReport (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:35:20)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 18:46:01"}
{"level":"http","message":"실패 [POST] /api/v1/reports/shops/11670753 400 (33ms)","metadata":{"meta":{"duration":"33ms","requestId":"req-1743327961163-vybyqanon","statusCode":400,"statusMessage":"Bad Request"}},"timestamp":"2025-03-30 18:46:01"}
{"level":"http","message":"요청 [GET] /api/v1/common/healthcheck","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743327984596-wkanlgwsv","url":"/api/v1/common/healthcheck","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 18:46:24"}
{"level":"http","message":"실패 [GET] /api/v1/common/healthcheck 404 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743327984596-wkanlgwsv","statusCode":404,"statusMessage":"Not Found"}},"timestamp":"2025-03-30 18:46:24"}
{"level":"info","message":"환경 변수 확인","metadata":{"meta":{"JWT_SECRET_KEY":"***설정됨***","MODE":"PROD","NODE_ENV":"development","PROD_DB_HOST":"43.201.211.39","PROD_DB_NAME":"chaltteok","PROD_DB_PASSWORD":"***설정됨***","PROD_DB_PORT":"3306","PROD_DB_USER":"chal"}},"timestamp":"2025-03-30 18:46:59"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 18:46:59"}
{"level":"info","message":"데이터베이스 설정 확인","metadata":{"meta":{"database":"chaltteok","host":"43.201.211.39","port":"3306","user":"chal"}},"timestamp":"2025-03-30 18:46:59"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 18:46:59"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 18:46:59"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 18:46:59"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 18:46:59"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 18:46:59"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 18:46:59"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 18:46:59"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 18:46:59"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 18:46:59"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 18:46:59"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 18:46:59"}
{"level":"http","message":"요청 [POST] /api/v1/reports/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 신고입니다.","reportType":"spam"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743328030307-0z6jmp3yg","url":"/api/v1/reports/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 18:47:10"}
{"level":"info","message":"인증 성공","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 18:47:10"}
{"level":"debug","message":"신고 요청 받음","metadata":{"meta":{"reportType":"spam","shopId":"11670753","user":{"iat":1743327936,"userId":35},"userId":35}},"timestamp":"2025-03-30 18:47:10"}
{"level":"debug","message":"신고 생성 쿼리 실행","metadata":{"meta":{"reportData":{"description":"테스트 신고입니다.","reportType":"spam","targetId":11670753,"targetType":"shop","userId":35}}},"timestamp":"2025-03-30 18:47:10"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":43}},"timestamp":"2025-03-30 18:47:10"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    '35',\n    'spam',\n    '테스트 신고입니다.',\n    'pending'\n  )"}},"timestamp":"2025-03-30 18:47:10"}
{"level":"info","message":"신고 생성 성공","metadata":{"meta":{}},"timestamp":"2025-03-30 18:47:10"}
{"level":"debug","message":"신고 상세 조회 시작","metadata":{"meta":{}},"timestamp":"2025-03-30 18:47:10"}
{"level":"debug","message":"신고 상세 조회 쿼리 실행","metadata":{"meta":{"params":[null],"query":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        ELSE '알 수 없음'\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = ?\n            "}},"timestamp":"2025-03-30 18:47:10"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":43}},"timestamp":"2025-03-30 18:47:10"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[null],"sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        ELSE '알 수 없음'\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = ?\n            "}},"timestamp":"2025-03-30 18:47:10"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 18:47:10"}
{"level":"error","message":"신고를 찾을 수 없음","metadata":{"error":{},"meta":{}},"timestamp":"2025-03-30 18:47:10"}
{"level":"error","message":"신고 상세 조회 실패","metadata":{"error":"신고를 찾을 수 없습니다.","meta":{}},"stack":"Error: 신고를 찾을 수 없습니다.\n    at ReportService.getReportById (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:121:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ReportService.createShopReport (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:35:20)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 18:47:10"}
{"level":"error","message":"샵 신고 생성 오류:","metadata":{"error":"신고를 찾을 수 없습니다.","meta":{}},"stack":"Error: 신고를 찾을 수 없습니다.\n    at ReportService.getReportById (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:121:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ReportService.createShopReport (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:35:20)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 18:47:10"}
{"level":"error","message":"샵 신고 생성 오류:","metadata":{"error":"신고를 찾을 수 없습니다.","meta":{}},"stack":"Error: 신고를 찾을 수 없습니다.\n    at ReportService.getReportById (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:121:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ReportService.createShopReport (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:35:20)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:33:24","timestamp":"2025-03-30 18:47:10"}
{"level":"http","message":"실패 [POST] /api/v1/reports/shops/11670753 400 (127ms)","metadata":{"meta":{"duration":"127ms","requestId":"req-1743328030307-0z6jmp3yg","statusCode":400,"statusMessage":"Bad Request"}},"timestamp":"2025-03-30 18:47:10"}
{"level":"info","message":"환경 변수 확인","metadata":{"meta":{"JWT_SECRET_KEY":"***설정됨***","MODE":"PROD","NODE_ENV":"development","PROD_DB_HOST":"43.201.211.39","PROD_DB_NAME":"chaltteok","PROD_DB_PASSWORD":"***설정됨***","PROD_DB_PORT":"3306","PROD_DB_USER":"chal"}},"timestamp":"2025-03-30 18:47:49"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 18:47:49"}
{"level":"info","message":"데이터베이스 설정 확인","metadata":{"meta":{"database":"chaltteok","host":"43.201.211.39","port":"3306","user":"chal"}},"timestamp":"2025-03-30 18:47:49"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 18:47:49"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 18:47:49"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 18:47:49"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 18:47:49"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 18:47:49"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 18:47:49"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 18:47:49"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 18:47:49"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 18:47:49"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 18:47:49"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 18:47:49"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"newtest@example.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743328081771-6ob397ow2","url":"/api/v1/auth/login","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 18:48:01"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"newtest@example.com"}},"timestamp":"2025-03-30 18:48:01"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":44}},"timestamp":"2025-03-30 18:48:01"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'newtest@example.com'"}},"timestamp":"2025-03-30 18:48:01"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 18:48:01"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 18:48:01"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (176ms)","metadata":{"meta":{"duration":"176ms","requestId":"req-1743328081771-6ob397ow2","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 18:48:01"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":44}},"timestamp":"2025-03-30 18:48:01"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '35',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjgwODF9.qCrZunt5Bji5hmQCsC0OSlX-ucoUtqqGQI8KpyoR0-U'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzMjgwODF9.qCrZunt5Bji5hmQCsC0OSlX-ucoUtqqGQI8KpyoR0-U'"}},"timestamp":"2025-03-30 18:48:01"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 18:48:01"}
{"level":"http","message":"요청 [POST] /api/v1/reports/shops/11670753","metadata":{"meta":{"body":{"description":"테스트 신고입니다.","reportType":"spam"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743328091274-os1pw6i4v","url":"/api/v1/reports/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 18:48:11"}
{"level":"info","message":"인증 성공","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 18:48:11"}
{"level":"debug","message":"신고 요청 받음","metadata":{"meta":{"reportType":"spam","shopId":"11670753","user":{"iat":1743328081,"userId":35},"userId":35}},"timestamp":"2025-03-30 18:48:11"}
{"level":"debug","message":"신고 생성 쿼리 실행","metadata":{"meta":{"reportData":{"description":"테스트 신고입니다.","reportType":"spam","targetId":11670753,"targetType":"shop","userId":35}}},"timestamp":"2025-03-30 18:48:11"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":44}},"timestamp":"2025-03-30 18:48:11"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'shop',\n    '11670753',\n    '35',\n    'spam',\n    '테스트 신고입니다.',\n    'pending'\n  )"}},"timestamp":"2025-03-30 18:48:11"}
{"level":"info","message":"신고 생성 성공","metadata":{"meta":{}},"timestamp":"2025-03-30 18:48:11"}
{"level":"info","message":"신고 생성 완료","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 18:48:11"}
{"level":"http","message":"응답 [POST] /api/v1/reports/shops/11670753 201 (29ms)","metadata":{"meta":{"duration":"29ms","requestId":"req-1743328091274-os1pw6i4v","statusCode":201,"statusMessage":"Created"}},"timestamp":"2025-03-30 18:48:11"}
{"level":"http","message":"요청 [GET] /api/v1/reports/me","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743328099344-3vs40x1dv","url":"/api/v1/reports/me","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 18:48:19"}
{"level":"info","message":"인증 성공","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 18:48:19"}
{"level":"debug","message":"사용자 신고 목록 조회 요청","metadata":{"meta":{"limit":20,"page":1,"userId":35}},"timestamp":"2025-03-30 18:48:19"}
{"level":"debug","message":"사용자별 신고 목록 조회","metadata":{"meta":{"limit":20,"offset":0,"userId":35}},"timestamp":"2025-03-30 18:48:19"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":44}},"timestamp":"2025-03-30 18:48:19"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image,\n  CASE\n    WHEN r.target_type = 'shop' THEN (\n      SELECT\n        title\n      FROM\n        shop\n      WHERE\n        id = r.target_id\n    )\n    ELSE '알 수 없음'\n  END as target_title\nFROM\n  report r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.user_id = '35'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  '20'\nOFFSET\n  '0'"}},"timestamp":"2025-03-30 18:48:19"}
{"level":"error","message":"쿼리 실행 실패","metadata":{"error":{"error":{"code":"ER_PARSE_ERROR","errno":1064,"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''20'\nOFFSET\n  '0'' at line 24","sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image,\n  CASE\n    WHEN r.target_type = 'shop' THEN (\n      SELECT\n        title\n      FROM\n        shop\n      WHERE\n        id = r.target_id\n    )\n    ELSE '알 수 없음'\n  END as target_title\nFROM\n  report r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.user_id = '35'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  '20'\nOFFSET\n  '0'","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''20'\nOFFSET\n  '0'' at line 24","sqlState":"42000"},"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image,\n  CASE\n    WHEN r.target_type = 'shop' THEN (\n      SELECT\n        title\n      FROM\n        shop\n      WHERE\n        id = r.target_id\n    )\n    ELSE '알 수 없음'\n  END as target_title\nFROM\n  report r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.user_id = '35'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  '20'\nOFFSET\n  '0'"},"meta":{"error":{"code":"ER_PARSE_ERROR","errno":1064,"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''20'\nOFFSET\n  '0'' at line 24","sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image,\n  CASE\n    WHEN r.target_type = 'shop' THEN (\n      SELECT\n        title\n      FROM\n        shop\n      WHERE\n        id = r.target_id\n    )\n    ELSE '알 수 없음'\n  END as target_title\nFROM\n  report r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.user_id = '35'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  '20'\nOFFSET\n  '0'","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''20'\nOFFSET\n  '0'' at line 24","sqlState":"42000"},"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image,\n  CASE\n    WHEN r.target_type = 'shop' THEN (\n      SELECT\n        title\n      FROM\n        shop\n      WHERE\n        id = r.target_id\n    )\n    ELSE '알 수 없음'\n  END as target_title\nFROM\n  report r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.user_id = '35'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  '20'\nOFFSET\n  '0'"}},"timestamp":"2025-03-30 18:48:19"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 18:48:19"}
{"level":"error","message":"사용자별 신고 목록 조회 실패:","metadata":{"error":"쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"code":"ER_PARSE_ERROR","errno":1064,"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''20'\nOFFSET\n  '0'' at line 24","sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image,\n  CASE\n    WHEN r.target_type = 'shop' THEN (\n      SELECT\n        title\n      FROM\n        shop\n      WHERE\n        id = r.target_id\n    )\n    ELSE '알 수 없음'\n  END as target_title\nFROM\n  report r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.user_id = '35'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  '20'\nOFFSET\n  '0'","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''20'\nOFFSET\n  '0'' at line 24","sqlState":"42000"}}},"stack":"Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''20'\nOFFSET\n  '0'' at line 24\n    at PromisePoolConnection.query (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/promise/connection.js:29:22)\n    at Database.query (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:140:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ReportRepository.getReportsByUserId (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/reportRepository.js:56:20)\n    at async ReportService.getUserReports (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:102:25)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:103:25","timestamp":"2025-03-30 18:48:19"}
{"level":"error","message":"사용자 신고 목록 조회 오류:","metadata":{"error":"쿼리 실행 중 오류가 발생했습니다","meta":{"name":"DatabaseError","originalError":{"code":"ER_PARSE_ERROR","errno":1064,"message":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''20'\nOFFSET\n  '0'' at line 24","sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image,\n  CASE\n    WHEN r.target_type = 'shop' THEN (\n      SELECT\n        title\n      FROM\n        shop\n      WHERE\n        id = r.target_id\n    )\n    ELSE '알 수 없음'\n  END as target_title\nFROM\n  report r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.user_id = '35'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  '20'\nOFFSET\n  '0'","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''20'\nOFFSET\n  '0'' at line 24","sqlState":"42000"}}},"stack":"Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''20'\nOFFSET\n  '0'' at line 24\n    at PromisePoolConnection.query (/Users/hj/work/Chaltteok_BE/node_modules/mysql2/lib/promise/connection.js:29:22)\n    at Database.query (file:///Users/hj/work/Chaltteok_BE/src/utils/database.js:140:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ReportRepository.getReportsByUserId (file:///Users/hj/work/Chaltteok_BE/src/dataaccess/repositories/reportRepository.js:56:20)\n    at async ReportService.getUserReports (file:///Users/hj/work/Chaltteok_BE/src/services/reportService.js:102:25)\n    at async file:///Users/hj/work/Chaltteok_BE/src/controllers/reportController.js:103:25","timestamp":"2025-03-30 18:48:19"}
{"level":"http","message":"실패 [GET] /api/v1/reports/me 400 (17ms)","metadata":{"meta":{"duration":"17ms","requestId":"req-1743328099344-3vs40x1dv","statusCode":400,"statusMessage":"Bad Request"}},"timestamp":"2025-03-30 18:48:19"}
{"level":"info","message":"환경 변수 확인","metadata":{"meta":{"JWT_SECRET_KEY":"***설정됨***","MODE":"PROD","NODE_ENV":"development","PROD_DB_HOST":"43.201.211.39","PROD_DB_NAME":"chaltteok","PROD_DB_PASSWORD":"***설정됨***","PROD_DB_PORT":"3306","PROD_DB_USER":"chal"}},"timestamp":"2025-03-30 23:43:31"}
{"level":"info","message":"운영 환경(PROD) 데이터베이스 사용","metadata":{"meta":{}},"timestamp":"2025-03-30 23:43:31"}
{"level":"info","message":"데이터베이스 설정 확인","metadata":{"meta":{"database":"chaltteok","host":"43.201.211.39","port":"3306","user":"chal"}},"timestamp":"2025-03-30 23:43:31"}
{"level":"info","message":"데이터베이스 연결 풀이 초기화되었습니다","metadata":{"meta":{"connectionLimit":20,"database":"chaltteok","host":"43.201.211.39"}},"timestamp":"2025-03-30 23:43:31"}
{"level":"info","message":"사용자 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userMapper.xml"}},"timestamp":"2025-03-30 23:43:31"}
{"level":"debug","message":"JWT 유틸리티가 초기화되었습니다.","metadata":{"meta":{}},"timestamp":"2025-03-30 23:43:31"}
{"level":"info","message":"세션 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/userSessionMapper.xml"}},"timestamp":"2025-03-30 23:43:31"}
{"level":"info","message":"매장 매퍼 로드됨","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/shopMapper.xml"}},"timestamp":"2025-03-30 23:43:31"}
{"level":"info","message":"공통 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/commonMapper.xml"},"timestamp":"2025-03-30 23:43:31"}
{"level":"info","message":"리포트 매퍼 로드됨:","metadata":{"meta":"/Users/hj/work/Chaltteok_BE/src/dataaccess/mappers/reportMapper.xml"},"timestamp":"2025-03-30 23:43:31"}
{"level":"info","message":"서버가 시작되었습니다 - http://localhost:9801","metadata":{"meta":{}},"timestamp":"2025-03-30 23:43:31"}
{"level":"info","message":"운영 환경: development","metadata":{"meta":{}},"timestamp":"2025-03-30 23:43:31"}
{"level":"info","message":"API 기본 경로: /api/v1","metadata":{"meta":{}},"timestamp":"2025-03-30 23:43:31"}
{"level":"info","message":"리뷰 이미지 업로드 디렉토리 생성 완료","metadata":{"meta":{"path":"/Users/hj/work/Chaltteok_BE/uploads/review-images"}},"timestamp":"2025-03-30 23:43:31"}
{"level":"http","message":"요청 [POST] /api/v1/auth/login","metadata":{"meta":{"body":{"email":"newtest@example.com","password":"******"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743345817246-hxk5159i8","url":"/api/v1/auth/login","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 23:43:37"}
{"level":"debug","message":"이메일로 사용자 조회","metadata":{"meta":{"email":"newtest@example.com"}},"timestamp":"2025-03-30 23:43:37"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":51}},"timestamp":"2025-03-30 23:43:37"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  id,\n  type,\n  email,\n  password,\n  is_retry,\n  name,\n  age,\n  gender,\n  nick_name,\n  phone,\n  address,\n  social_id,\n  profile_image,\n  it_plc_1,\n  it_plc_2,\n  it_plc_3,\n  reg_date,\n  mod_date\nFROM\n  user\nWHERE\n  email = 'newtest@example.com'"}},"timestamp":"2025-03-30 23:43:37"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 23:43:37"}
{"level":"debug","message":"사용자 세션 저장","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 23:43:37"}
{"level":"http","message":"응답 [POST] /api/v1/auth/login 200 (176ms)","metadata":{"meta":{"duration":"176ms","requestId":"req-1743345817246-hxk5159i8","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 23:43:37"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":51}},"timestamp":"2025-03-30 23:43:37"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  user_session (user_id, session)\nVALUES\n  (\n    '35',\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzNDU4MTd9.zTWEkkpJR7q9pTuWLqAXjLOhv0pXm0_oSk4_gnhxMfg'\n  ) ON DUPLICATE KEY\nUPDATE session = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1LCJpYXQiOjE3NDMzNDU4MTd9.zTWEkkpJR7q9pTuWLqAXjLOhv0pXm0_oSk4_gnhxMfg'"}},"timestamp":"2025-03-30 23:43:37"}
{"level":"info","message":"세션 저장 성공","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 23:43:37"}
{"level":"http","message":"요청 [GET] /api/v1/reports/me","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743345826765-ggrpde6v6","url":"/api/v1/reports/me","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 23:43:46"}
{"level":"info","message":"인증 성공","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 23:43:46"}
{"level":"debug","message":"사용자 신고 목록 조회 요청","metadata":{"meta":{"limit":20,"page":1,"userId":35}},"timestamp":"2025-03-30 23:43:46"}
{"level":"debug","message":"사용자별 신고 목록 조회","metadata":{"meta":{"limit":20,"offset":0,"userId":35}},"timestamp":"2025-03-30 23:43:46"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":51}},"timestamp":"2025-03-30 23:43:46"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image,\n  CASE\n    WHEN r.target_type = 'shop' THEN (\n      SELECT\n        title\n      FROM\n        shop\n      WHERE\n        id = r.target_id\n    )\n    ELSE '알 수 없음'\n  END as target_title\nFROM\n  report r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.user_id = '35'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 23:43:46"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 23:43:46"}
{"level":"info","message":"사용자 신고 목록 조회 완료","metadata":{"meta":{"count":3,"userId":35}},"timestamp":"2025-03-30 23:43:46"}
{"level":"http","message":"응답 [GET] /api/v1/reports/me 200 (27ms)","metadata":{"meta":{"duration":"27ms","requestId":"req-1743345826765-ggrpde6v6","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 23:43:46"}
{"level":"http","message":"요청 [GET] /api/v1/reports/me/7","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743345837048-wf4p0fp4p","url":"/api/v1/reports/me/7","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 23:43:57"}
{"level":"info","message":"인증 성공","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 23:43:57"}
{"level":"debug","message":"신고 상세 조회 요청","metadata":{"meta":{"reportId":"7","userId":35}},"timestamp":"2025-03-30 23:43:57"}
{"level":"debug","message":"신고 상세 조회 시작","metadata":{"meta":{"reportId":7,"userId":35}},"timestamp":"2025-03-30 23:43:57"}
{"level":"debug","message":"신고 상세 조회 쿼리 실행","metadata":{"meta":{"params":[7],"query":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        ELSE '알 수 없음'\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = ?\n            "}},"timestamp":"2025-03-30 23:43:57"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":51}},"timestamp":"2025-03-30 23:43:57"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[7],"sql":"\n                SELECT \n                    r.*,\n                    u.name as user_name,\n                    u.profile_image as user_profile_image,\n                    CASE \n                        WHEN r.target_type = 'shop' THEN (SELECT title FROM shop WHERE id = r.target_id)\n                        ELSE '알 수 없음'\n                    END as target_title\n                FROM \n                    report r\n                LEFT JOIN \n                    user u ON r.user_id = u.id\n                WHERE \n                    r.id = ?\n            "}},"timestamp":"2025-03-30 23:43:57"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 23:43:57"}
{"level":"info","message":"신고 상세 조회 성공","metadata":{"meta":{"reportId":7}},"timestamp":"2025-03-30 23:43:57"}
{"level":"info","message":"신고 상세 조회 완료","metadata":{"meta":{"reportId":"7","userId":35}},"timestamp":"2025-03-30 23:43:57"}
{"level":"http","message":"응답 [GET] /api/v1/reports/me/7 200 (40ms)","metadata":{"meta":{"duration":"40ms","requestId":"req-1743345837048-wf4p0fp4p","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 23:43:57"}
{"level":"http","message":"요청 [POST] /api/v1/reviews","metadata":{"meta":{"body":{"description":"매우 좋은 서비스였습니다!","shopId":11670753},"ip":"127.0.0.1","method":"POST","requestId":"req-1743345846201-4k18bb066","url":"/api/v1/reviews","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 23:44:06"}
{"level":"http","message":"실패 [POST] /api/v1/reviews 404 (1ms)","metadata":{"meta":{"duration":"1ms","requestId":"req-1743345846201-4k18bb066","statusCode":404,"statusMessage":"Not Found"}},"timestamp":"2025-03-30 23:44:06"}
{"level":"http","message":"요청 [POST] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{"description":"매우 좋은 서비스였습니다!"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743345875755-s6srrsstg","url":"/api/v1/reviews/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 23:44:35"}
{"level":"debug","message":"리뷰 생성 시작","metadata":{"meta":{"description":"매우 좋은 서비스였습니다!","shopId":11670753,"shopPrdId":0,"userId":35}},"timestamp":"2025-03-30 23:44:35"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":51}},"timestamp":"2025-03-30 23:44:35"}
{"level":"debug","message":"트랜잭션 시작","metadata":{"meta":{}},"timestamp":"2025-03-30 23:44:35"}
{"level":"debug","message":"MyBatis 매퍼 파라미터","metadata":{"meta":{"description":"매우 좋은 서비스였습니다!","shopId":11670753,"shopPrdId":0,"userId":35}},"timestamp":"2025-03-30 23:44:35"}
{"level":"warn","message":"MyBatis 매퍼 오류, 직접 쿼리 시도","metadata":{"meta":{"error":"XML is not well-formed character or markup. Consider using CDATA section."}},"timestamp":"2025-03-30 23:44:35"}
{"level":"debug","message":"직접 SQL 쿼리 생성 시도","metadata":{"meta":{}},"timestamp":"2025-03-30 23:44:35"}
{"level":"info","message":"직접 쿼리로 리뷰 생성 성공","metadata":{"meta":{"reviewId":48,"shopId":11670753,"userId":35}},"timestamp":"2025-03-30 23:44:35"}
{"level":"debug","message":"리뷰 단일 조회 시작","metadata":{"meta":{"reviewId":48}},"timestamp":"2025-03-30 23:44:35"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":52}},"timestamp":"2025-03-30 23:44:35"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  s.title as shop_name,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN shop s ON r.shop_id = s.id\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.id = '48'"}},"timestamp":"2025-03-30 23:44:35"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 23:44:35"}
{"level":"debug","message":"리뷰를 찾을 수 없음","metadata":{"meta":{"reviewId":48}},"timestamp":"2025-03-30 23:44:35"}
{"level":"debug","message":"트랜잭션 커밋 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 23:44:35"}
{"level":"debug","message":"트랜잭션 연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 23:44:35"}
{"level":"http","message":"응답 [POST] /api/v1/reviews/shops/11670753 201 (120ms)","metadata":{"meta":{"duration":"120ms","requestId":"req-1743345875755-s6srrsstg","statusCode":201,"statusMessage":"Created"}},"timestamp":"2025-03-30 23:44:35"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/shops/11670753","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743345884762-y8wh6tsh0","url":"/api/v1/reviews/shops/11670753","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 23:44:44"}
{"level":"debug","message":"매장별 리뷰 목록 조회 시작","metadata":{"meta":{"limit":20,"offset":0,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 23:44:44"}
{"level":"debug","message":"리뷰 목록 쿼리 실행","metadata":{"meta":{"params":{"limit":20,"offset":0,"shopId":11670753},"query":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 23:44:44"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":51}},"timestamp":"2025-03-30 23:44:44"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.shop_id = '11670753'\nORDER BY\n  r.reg_date DESC\nLIMIT\n  20\nOFFSET\n  0"}},"timestamp":"2025-03-30 23:44:44"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 23:44:44"}
{"level":"info","message":"리뷰 목록 조회 성공","metadata":{"meta":{"count":17,"limit":20,"page":1,"shopId":11670753}},"timestamp":"2025-03-30 23:44:44"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/shops/11670753 200 (19ms)","metadata":{"meta":{"duration":"19ms","requestId":"req-1743345884762-y8wh6tsh0","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 23:44:44"}
{"level":"http","message":"요청 [GET] /api/v1/reviews/48","metadata":{"meta":{"body":{},"ip":"127.0.0.1","method":"GET","requestId":"req-1743345893537-yfcqylgp8","url":"/api/v1/reviews/48","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 23:44:53"}
{"level":"debug","message":"리뷰 단일 조회 시작","metadata":{"meta":{"reviewId":48}},"timestamp":"2025-03-30 23:44:53"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":51}},"timestamp":"2025-03-30 23:44:53"}
{"level":"debug","message":"쿼리 실행","metadata":{"meta":{"params":[],"sql":"SELECT\n  r.*,\n  s.title as shop_name,\n  u.name as user_name,\n  u.profile_image as user_profile_image\nFROM\n  shop_review r\n  LEFT JOIN shop s ON r.shop_id = s.id\n  LEFT JOIN user u ON r.user_id = u.id\nWHERE\n  r.id = '48'"}},"timestamp":"2025-03-30 23:44:53"}
{"level":"debug","message":"연결 반환 완료","metadata":{"meta":{}},"timestamp":"2025-03-30 23:44:53"}
{"level":"debug","message":"리뷰 조회 성공","metadata":{"meta":{"reviewId":48}},"timestamp":"2025-03-30 23:44:53"}
{"level":"http","message":"응답 [GET] /api/v1/reviews/48 200 (199ms)","metadata":{"meta":{"duration":"199ms","requestId":"req-1743345893537-yfcqylgp8","statusCode":200,"statusMessage":"OK"}},"timestamp":"2025-03-30 23:44:53"}
{"level":"http","message":"요청 [POST] /api/v1/reports/comments/1","metadata":{"meta":{"body":{"description":"부적절한 댓글입니다.","reportType":"inappropriate"},"ip":"127.0.0.1","method":"POST","requestId":"req-1743345905120-wabodo6p6","url":"/api/v1/reports/comments/1","userAgent":"curl/8.7.1"}},"timestamp":"2025-03-30 23:45:05"}
{"level":"info","message":"인증 성공","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 23:45:05"}
{"level":"debug","message":"댓글 신고 요청 받음","metadata":{"meta":{"commentId":"1","reportType":"inappropriate","userId":35}},"timestamp":"2025-03-30 23:45:05"}
{"level":"debug","message":"신고 생성 쿼리 실행","metadata":{"meta":{"reportData":{"description":"부적절한 댓글입니다.","reportType":"inappropriate","targetId":1,"targetType":"comment","userId":35}}},"timestamp":"2025-03-30 23:45:05"}
{"level":"debug","message":"데이터베이스 연결 획득","metadata":{"meta":{"connectionId":51}},"timestamp":"2025-03-30 23:45:05"}
{"level":"debug","message":"UPDATE/DELETE 쿼리 실행","metadata":{"meta":{"params":[],"sql":"INSERT INTO\n  report (\n    target_type,\n    target_id,\n    user_id,\n    report_type,\n    description,\n    status\n  )\nVALUES\n  (\n    'comment',\n    '1',\n    '35',\n    'inappropriate',\n    '부적절한 댓글입니다.',\n    'pending'\n  )"}},"timestamp":"2025-03-30 23:45:05"}
{"level":"info","message":"신고 생성 성공","metadata":{"meta":{}},"timestamp":"2025-03-30 23:45:05"}
{"level":"info","message":"댓글 신고 생성 완료","metadata":{"meta":{"userId":35}},"timestamp":"2025-03-30 23:45:05"}
{"level":"http","message":"응답 [POST] /api/v1/reports/comments/1 201 (53ms)","metadata":{"meta":{"duration":"53ms","requestId":"req-1743345905120-wabodo6p6","statusCode":201,"statusMessage":"Created"}},"timestamp":"2025-03-30 23:45:05"}
